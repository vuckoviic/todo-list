(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}e.d({},{q7:()=>T,B5:()=>k,r3:()=>C,OS:()=>B,ar:()=>L,dt:()=>A});const n=document.getElementById("inbox");let l=[],i=[];i.push(n);let d,o,a=[];a.push(l),d=l;const r=document.getElementById("content");let c,s,m;function p(e){e.style.backgroundColor="low"===m?"lightblue":"normal"==m?"rgb(51, 126, 245)":"red"}function u(e){if(m=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked){e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true");let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!0,console.log(d[t].checked)}else{"low"===m?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==m?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"));let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!1,console.log(d[t].checked)}}function h(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),l=document.createElement("input"),i=document.createElement("select"),o=document.createElement("option"),a=document.createElement("option"),r=document.createElement("option");o.innerText="Low",a.innerText="Normal",r.innerText="High",o.setAttribute("value","low"),a.setAttribute("value","normal"),r.setAttribute("value","high");const c=e.children,s=c.item(0),u=c.item(1).innerText,h=c.item(2).innerText,v=c.item(3).innerText,y=e.getAttribute("data-priority");s.disabled=!0,t.value=u,n.innerText=h,l.value=v,i.innerText=y,i.appendChild(o),i.appendChild(a),i.appendChild(r),"low"==y?o.selected=!0:"normal"==y?a.selected=!0:"high"==y&&(r.selected=!0),l.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(i),e.removeChild(c.item(1)),e.removeChild(c.item(1)),e.removeChild(c.item(1));const b=document.createElement("button"),E=document.createElement("button"),C=document.createElement("button");b.classList.add("editButton","saveEditButton"),E.classList.add("editButton","closeEditButton"),C.classList.add("editButton","deleteEditButton"),b.innerText="Save",E.innerText="Close",C.innerText="Delete",e.appendChild(C),e.appendChild(E),e.appendChild(b),C.addEventListener("click",(()=>{g.removeChild(e);const t=parseInt(e.getAttribute("data-index"));d.pop(d[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),E.addEventListener("click",(()=>{const d=document.createElement("h3"),o=document.createElement("p"),a=document.createElement("p");e.setAttribute("data-priority",y),d.innerText=u,o.innerText=h,o.style.fontStyle="italic",a.innerText=v,e.appendChild(d),e.appendChild(o),e.appendChild(a),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(E),e.removeChild(C),s.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const o=document.createElement("h3"),a=document.createElement("p"),r=document.createElement("p");o.innerText=t.value,a.innerText=n.value,a.style.fontStyle="italic",r.innerText=l.value;const c=parseInt(e.getAttribute("data-index"));d[c].title=t.value,d[c].description=n.value,d[c].dueDate=l.value,d[c].priority=i.value,m=i.value,p(e),e.setAttribute("data-priority",i.value),console.log(d[c]),console.log("Saved item's priority is: "+d[c].priority),e.appendChild(o),e.appendChild(a),e.appendChild(r),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(E),e.removeChild(C),s.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}n.classList.add("active-project"),n.addEventListener("click",(()=>{t(),k.disabled=!0,k.style.backgroundColor="grey";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,b=0;n.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=a[e]);for(let e=0;e<l.length;e++){for(let t=0;t<l[e].length;t++)l[e][t].displayed=!1,console.log(l[e][t]);console.log("displayedItems: "+b),b=0,E(l[e])}r.appendChild(B),c.innerHTML="",c.appendChild(s);for(let e=0;e<o.length;e++){const t=document.createElement("p");t.innerText=`${o[e].title} | ${o[e].dueDate}`,"low"==o[e].priority?t.style.backgroundColor="lightblue":"normal"==o[e].priority?t.style.backgroundColor="rgb(51, 126, 245)":t.style.backgroundColor="red",t.style.padding="2px",t.style.marginTop="3px",c.appendChild(t)}r.firstChild.firstChild.disabled=!0}));const g=document.getElementById("content");let v;const y=document.getElementById("inbox");let b=0;function E(e){for(let t=b;t<e.length;t++){v=document.createElement("div");const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");l.innerHTML="<h3>"+e[t].title+"</h3>",i.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",m=e[t].priority,p(v),v.setAttribute("data-priority",m),v.setAttribute("data-index",t),v.setAttribute("data-checked","false"),v.setAttribute("data-editing","false"),1==e[t].checked?(n.checked=!0,v.setAttribute("data-checked","true"),v.style.backgroundColor="green"):(n.checked=!1,v.setAttribute("data-checked","false")),v.appendChild(n),v.appendChild(l),v.appendChild(i),v.appendChild(d),v.classList.add("showItemDiv"),i.classList.add("showDescription"),g.appendChild(v),n.addEventListener("click",u),v.addEventListener("click",(e=>{e.target==v&&"false"==v.getAttribute("data-checked")&&"false"==v.getAttribute("data-editing")&&0==y.classList.contains("active-project")&&h(e.target)})),e[t].displayed=!0,b++}}const C=document.getElementsByTagName("dialog")[0],k=document.getElementById("addItem");k.disabled=!0,1==k.disabled?k.style.backgroundColor="grey":k.style.backgroundColor="navy";const x=document.getElementById("closeDialog"),f=document.getElementsByTagName("form")[0];k.addEventListener("click",(()=>{C.showModal(),f.reset()})),x.addEventListener("click",(()=>{C.close()}));class T{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("dueDate").value;if(m=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===l)alert("Please Choose Your Due Date.");else{const i=new T(t,n,l,m);console.log(i),console.log(e),e.push(i),E(e),C.close()}}(d)}));const L=document.getElementById("newProject"),A=document.getElementById("projects");L.addEventListener("click",(function(){c=document.createElement("div"),s=document.createElement("button");const e=document.createElement("input"),n=document.createElement("button"),r=document.createElement("button");n.innerText="Save",r.innerText="Exit",s.style.padding="3px",n.style.backgroundColor="white",n.style.maxHeight="15px",n.style.maxWidth="15px",n.style.fontSize="1em",n.style.color="navy",n.style.marginTop="5px",r.style.backgroundColor="white",r.style.maxHeight="15px",r.style.maxWidth="15px",r.style.fontSize="1em",r.style.color="navy",r.style.marginTop="5px",s.appendChild(e),s.appendChild(r),s.appendChild(n),c.appendChild(s),n.addEventListener("click",(()=>{o=e.value,o.length<1?alert("Please Insert Name For Your Project."):(s.innerText=o,o=new Array,a.push(o),l.push(o),s.addEventListener("click",(()=>{t(),k.disabled=!1,k.style.backgroundColor="navy";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,b=0;s.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=a[e]);E(d)})))})),r.addEventListener("click",(()=>{A.removeChild(s),A.removeChild(c)})),A.removeChild(L),A.appendChild(c),A.appendChild(L),i.push(s)}));const I=document.getElementById("content"),B=document.createElement("p");B.innerHTML="The inbox section is for <b>review only</b>. You can't create, edit or check todo items here. You need to create separate project for that.",B.style.fontStyle="italic",B.style.position="absolute",B.style.bottom="5px",I.style.position="relative",I.appendChild(B)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXLEVBQ25CcUIsRUFBUWxELE1BQU1DLGdCQUFrQixPQUVoQyxJQUFLLElBQUlrRCxFQUFJLEVBQUdBLEVBQUk3RCxFQUFZOEQsT0FBUUQsSUFDcEM3RCxFQUFZNkQsR0FBR2IsVUFBVWUsT0FBTyxrQkFDaEMvRCxFQUFZNkQsR0FBR0csV0FBWSxFQUMzQkMsRUFBaUIsRUFHckIzRCxFQUFRMEMsVUFBVUMsSUFBSSxrQkFFdEIsSUFBSyxJQUFJWSxFQUFJLEVBQUdBLEVBQUk3RCxFQUFZOEQsT0FBUUQsSUFDaEM3RCxFQUFZNkQsR0FBR2IsVUFBVWtCLFNBQVMsb0JBQ2xDaEUsRUFBY0MsRUFBaUIwRCxJQUl2Q08sRUFBYWxFLEVBQVksSUE0QmpDLElBSUoyRixFQUFZM0MsaUJBQWlCLFNBQVMsS0FDbEN3QyxFQUFTOUMsWUFBWXRDLEdBQ3JCb0YsRUFBUzlDLFlBQVl2QyxFQUFXLElBR3BDcUYsRUFBUzlDLFlBQVk2QyxHQUNyQkMsRUFBU2pELFlBQVlwQyxHQUNyQnFGLEVBQVNqRCxZQUFZZ0QsR0FFckJ6RixFQUFZQyxLQUFLSyxFQUVyQixJTXRKQSxNQUFNLEVBQVVYLFNBQVNDLGVBQWUsV0FFM0J5RSxFQUFpQjFFLFNBQVM2QixjQUFjLEtBQ3JENkMsRUFBZXhFLFVBQVksOElBQzNCd0UsRUFBZTNELE1BQU04QyxVQUFZLFNBQ2pDYSxFQUFlM0QsTUFBTXlGLFNBQVcsV0FDaEM5QixFQUFlM0QsTUFBTTBGLE9BQVMsTUFDOUIsRUFBUTFGLE1BQU15RixTQUFXLFdBQ3pCLEVBQVExRCxZQUFZNEIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jbGVhckNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Byb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGVUb2RvSXRlbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2V0dGluZ1ByaW9yaXR5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jaGVja0NoZWNrYm94LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9lZGl0U2hvd0l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Nob3dpbmdJdGVtcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgZnVuY3Rpb24gY2xlYXJDb250ZW50KCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xufSIsImltcG9ydCB7IHByb2plY3RzLCBuZXdQcm9qZWN0QnV0dG9uLCBhZGRJdGVtLCBpbmZvcm1hdGlvbmFsUCB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGVhckNvbnRlbnQgfSBmcm9tIFwiLi9jbGVhckNvbnRlbnQuanNcIjtcbmltcG9ydCB7IGRpc3BsYXllZEl0ZW1zLCBzaG93aW5nSXRlbXMsIHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgb25DaGFuZ2UgZnJvbSAnb24tY2hhbmdlJztcblxuY29uc3QgaW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluYm94XCIpO1xuZXhwb3J0IGxldCBpbmJveEFycmF5ID0gW107XG5cbmxldCBhbGxQcm9qZWN0cyA9IFtdO1xuYWxsUHJvamVjdHMucHVzaChpbmJveCk7XG5cbmxldCBhbGxQcm9qZWN0QXJyYXlzID0gW107XG5hbGxQcm9qZWN0QXJyYXlzLnB1c2goaW5ib3hBcnJheSk7XG5leHBvcnQgbGV0IGFjdGl2ZUFycmF5O1xuXG5hY3RpdmVBcnJheSA9IGluYm94QXJyYXk7XG5cbmxldCBuYW1lO1xuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuXG5pbmJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXByb2plY3RcIik7XG5pbmJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgY2xlYXJDb250ZW50KCk7XG5cbiAgICBhZGRJdGVtLmRpc2FibGVkID0gdHJ1ZTtcbiAgICBhZGRJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JleVwiO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgIH1cblxuICAgIGluYm94LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluYm94QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmJveEFycmF5W2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBpbmJveEFycmF5W2ldW2pdLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coaW5ib3hBcnJheVtpXVtqXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcImRpc3BsYXllZEl0ZW1zOiBcIiArIGRpc3BsYXllZEl0ZW1zKTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgICAgICBzaG93aW5nSXRlbXMoaW5ib3hBcnJheVtpXSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25hbFApO1xuXG4gICAgcHJvamVjdERpdi5pbm5lckhUTUwgPSBcIlwiO1xuICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdCk7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIHByb2plY3RJdGVtLmlubmVyVGV4dCA9IGAke25hbWVbaV0udGl0bGV9IHwgJHtuYW1lW2ldLmR1ZURhdGV9YDtcbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lW2ldLnByaW9yaXR5ID09IFwibG93XCIpIHtcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibGlnaHRibHVlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChuYW1lW2ldLnByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb2plY3RJdGVtLnN0eWxlLnBhZGRpbmcgPSBcIjJweFwiO1xuICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjNweFwiO1xuXG4gICAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICAgICAgICBcbiAgICB9XG5cbiAgICBjb250ZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5kaXNhYmxlZCA9IHRydWU7XG5cbn0pO1xuXG5sZXQgcHJvamVjdERpdjtcbmxldCBwcm9qZWN0O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdCgpIHtcblxuICAgIHByb2plY3REaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBwcm9qZWN0U2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdEV4aXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIFxuICAgIHByb2plY3RTYXZlLmlubmVyVGV4dCA9IFwiU2F2ZVwiO1xuICAgIHByb2plY3RFeGl0LmlubmVyVGV4dCA9IFwiRXhpdFwiO1xuXG4gICAgcHJvamVjdC5zdHlsZS5wYWRkaW5nID0gXCIzcHhcIjtcblxuICAgIHByb2plY3RTYXZlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZUlucHV0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RFeGl0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RTYXZlKTtcblxuICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdCk7XG4gICAgXG4gICAgcHJvamVjdFNhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgXG4gICAgICAgICBuYW1lID0gcHJvamVjdE5hbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBOYW1lIEZvciBZb3VyIFByb2plY3QuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0LmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICBhbGxQcm9qZWN0QXJyYXlzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICBpbmJveEFycmF5LnB1c2gobmFtZSk7XG4gICAgXG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+IHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBjbGVhckNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBhZGRJdGVtLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIm5hdnlcIjtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLXByb2plY3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFycmF5ID0gYWxsUHJvamVjdEFycmF5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSk7XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjb25zdCBkZWxldGVQcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3QuaW5uZXJUZXh0ID0gXCJEZWxldGUgUHJvamVjdFwiO1xuXG4gICAgICAgICAgICAvLyBwcm9qZWN0LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgIC8vIHByb2plY3Quc3R5bGUuZmxleERpcmVjdGlvbiA9IFwiY29sdW1uXCI7XG4gICAgICAgICAgICAvLyBwcm9qZWN0LnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIC8vIHByb2plY3Quc3R5bGUuYWxpZ25JdGVtcyA9IFwiY2VudGVyXCI7XG5cbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUuZm9udFNpemUgPSBcIjFlbVwiO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKHByb2plY3QpO1xuICAgICAgICAgICAgLy8gICAgIGFsbFByb2plY3RBcnJheXMucG9wKG5hbWUpO1xuICAgICAgICAgICAgLy8gICAgIGluYm94QXJyYXkucG9wKG5hbWUpO1xuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGFsbFByb2plY3RzKTtcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhhbGxQcm9qZWN0QXJyYXlzKTtcbiAgICAgICAgICAgIC8vIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHByb2plY3QuYXBwZW5kQ2hpbGQoZGVsZXRlUHJvamVjdCk7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcHJvamVjdEV4aXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQocHJvamVjdCk7XG4gICAgICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKHByb2plY3REaXYpO1xuICAgIH0pXG5cbiAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChwcm9qZWN0RGl2KTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcblxuICAgIGFsbFByb2plY3RzLnB1c2gocHJvamVjdCk7XG5cbn0iLCJpbXBvcnQgeyBJdGVtLCBkaWFsb2cgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5cbmV4cG9ydCBsZXQgcHJpb3JpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbUZ1bmMgKGFjdGl2ZUFycmF5KSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcblxuICAgIGlmICh0aXRsZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBhIFRpdGxlLlwiKVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgRGVzY3JpcHRpb24uXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBDaG9vc2UgWW91ciBEdWUgRGF0ZS5cIilcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXkpO1xuICAgICAgICBhY3RpdmVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICB9XG5cblxufSIsImltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IHNob3dJdGVtLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdQcmlvcml0eSAoc2hvd0l0ZW0pIHtcbiAgICBcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibG93XCIpIHtcbiAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgfVxuICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoZWNrYm94KGV2ZW50KSB7XG4gICAgcHJpb3JpdHkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgY2hlY2tlZFwiKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbGV0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0uY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpO1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgKHByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5XCI7XG5pbXBvcnQgeyBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgY29udGVudCB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0U2hvd0l0ZW0oc2hvd0l0ZW0pIHtcblxuICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcInRydWVcIik7XG4gICAgY29uc29sZS5sb2coXCJEaXYgSVMgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vd1wiKTtcblxuICAgIGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBjb25zdCBpbnB1dER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG5cbiAgICBjb25zdCBvcHRpb25Mb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbk5vcm1hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICBvcHRpb25Mb3cuaW5uZXJUZXh0ID0gXCJMb3dcIjtcbiAgICBvcHRpb25Ob3JtYWwuaW5uZXJUZXh0ID0gXCJOb3JtYWxcIjtcbiAgICBvcHRpb25IaWdoLmlubmVyVGV4dCA9IFwiSGlnaFwiO1xuXG4gICAgb3B0aW9uTG93LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibG93XCIpOyBcbiAgICBvcHRpb25Ob3JtYWwuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJub3JtYWxcIik7XG4gICAgb3B0aW9uSGlnaC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImhpZ2hcIik7XG5cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gc2hvd0l0ZW0uY2hpbGRyZW47XG4gICAgY29uc3QgY2hlY2tib3ggPSBjaGlsZHJlbi5pdGVtKDApO1xuICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBjaGlsZHJlbi5pdGVtKDEpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbERlc2NyaXB0aW9uID0gY2hpbGRyZW4uaXRlbSgyKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEdWVEYXRlID0gY2hpbGRyZW4uaXRlbSgzKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxQcmlvcml0eSA9IHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBjaGVja2JveC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBpbnB1dFRpdGxlLnZhbHVlID0gb3JpZ2luYWxUaXRsZTtcbiAgICBpbnB1dERlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgaW5wdXREdWVEYXRlLnZhbHVlID0gb3JpZ2luYWxEdWVEYXRlO1xuICAgIGlucHV0UHJpb3JpdHkuaW5uZXJUZXh0ID0gb3JpZ2luYWxQcmlvcml0eTtcblxuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uTG93KTtcbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbk5vcm1hbCk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25IaWdoKTtcbiAgICBcbiAgICBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImxvd1wiKSB7XG4gICAgICAgIG9wdGlvbkxvdy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGVsc2UgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBvcHRpb25Ob3JtYWwuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwiaGlnaFwiKSB7XG4gICAgICAgIG9wdGlvbkhpZ2guc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlucHV0RHVlRGF0ZS50eXBlID0gXCJkYXRlXCI7XG4gICAgXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuXG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG5cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJzYXZlRWRpdEJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImNsb3NlRWRpdEJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJkZWxldGVFZGl0QnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkNsb3NlXCI7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcblxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHNob3dJdGVtKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgYWN0aXZlQXJyYXkucG9wKGFjdGl2ZUFycmF5W2luZGV4XSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSk7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdQcmlvcml0eSA9IHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgb3JpZ2luYWxQcmlvcml0eSk7XG5cbiAgICAgICAgbmV3VGl0bGUuaW5uZXJUZXh0ID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gb3JpZ2luYWxEZXNjcmlwdGlvbjtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgbmV3RHVlRGF0ZS5pbm5lclRleHQgPSBvcmlnaW5hbER1ZURhdGU7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICBjaGVja2JveC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSlcblxuICAgIHNhdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IGlucHV0RHVlRGF0ZS52YWx1ZTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIikpO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0udGl0bGUgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZGVzY3JpcHRpb24gPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZHVlRGF0ZT0gaW5wdXREdWVEYXRlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkgPSBpbnB1dFByaW9yaXR5LnZhbHVlO1xuXG4gICAgICAgIHByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBzZXR0aW5nUHJpb3JpdHkoc2hvd0l0ZW0pO1xuXG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBpbnB1dFByaW9yaXR5LnZhbHVlKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNhdmVkIGl0ZW0ncyBwcmlvcml0eSBpczogXCIgKyBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEdWVEYXRlKTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFRpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgY2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pO1xuXG59IiwiaW1wb3J0IHsgY2hlY2tDaGVja2JveCB9IGZyb20gXCIuL2NoZWNrQ2hlY2tib3guanNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGVkaXRTaG93SXRlbSB9IGZyb20gXCIuL2VkaXRTaG93SXRlbS5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5leHBvcnQgeyBjb250ZW50IH07XG5leHBvcnQgbGV0IHNob3dJdGVtO1xuXG5jb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5ib3hcIik7XG5cbmV4cG9ydCBsZXQgZGlzcGxheWVkSXRlbXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd2luZ0l0ZW1zKGFjdGl2ZUFycmF5KSB7XG5cbiAgICBmb3IgKGxldCBpID0gZGlzcGxheWVkSXRlbXM7IGkgPCBhY3RpdmVBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHNob3dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiKTtcbiAgICAgICAgY29uc3Qgc2hvd1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzaG93VGl0bGUuaW5uZXJIVE1MID1cIjxoMz5cIiArIGFjdGl2ZUFycmF5W2ldLnRpdGxlICsgXCI8L2gzPlwiO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZGVzY3JpcHRpb24gKyBcIjwvcD5cIjtcbiAgICAgICAgc2hvd0R1ZURhdGUuaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZHVlRGF0ZSArIFwiPC9wPlwiO1xuICAgIFxuICAgICAgICBwcmlvcml0eSA9IGFjdGl2ZUFycmF5W2ldLnByaW9yaXR5O1xuXG4gICAgICAgIHNldHRpbmdQcmlvcml0eShzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgcHJpb3JpdHkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUFycmF5W2ldLmNoZWNrZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0uY2xhc3NMaXN0LmFkZChcInNob3dJdGVtRGl2XCIpO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInNob3dEZXNjcmlwdGlvblwiKTtcbiAgICBcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tDaGVja2JveCk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHNob3dJdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKSA9PSBcImZhbHNlXCIgJiYgc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIpID09IFwiZmFsc2VcIiAmJiBpbmJveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0U2hvd0l0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aXZlQXJyYXlbaV0uZGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMrKztcbiAgICBcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2RvSXRlbUZ1bmMgfSBmcm9tICBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGNsZWFyQ29udGVudCB9IGZyb20gXCIuL2NsZWFyQ29udGVudC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXksIGNyZWF0ZU5ld1Byb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuXG5jb25zdCBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpYWxvZ1wiKVswXTtcbmV4cG9ydCB7IGRpYWxvZyB9O1xuZXhwb3J0IGNvbnN0IGFkZEl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZEl0ZW1cIik7XG5hZGRJdGVtLmRpc2FibGVkID0gdHJ1ZTtcblxuaWYgKGFkZEl0ZW0uZGlzYWJsZWQgPT0gdHJ1ZSkge1xuICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCI7XG59XG5cbmVsc2Uge1xuICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJuYXZ5XCI7XG59XG5cbmNvbnN0IGNsb3NlRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZURpYWxvZ1wiKTtcblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZm9ybVwiKVswXTtcblxuYWRkSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICBmb3JtLnJlc2V0KCk7XG59KTtcblxuY2xvc2VEaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5leHBvcnQgY2xhc3MgSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRvZG9JdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVUb2RvSXRlbVwiKTtcblxuY3JlYXRlVG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY3JlYXRlVG9kb0l0ZW1GdW5jKGFjdGl2ZUFycmF5KTtcbn0pO1xuXG5leHBvcnQgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3UHJvamVjdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHNcIik7XG5cbm5ld1Byb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZU5ld1Byb2plY3QpO1xuXG5jb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuXG5leHBvcnQgY29uc3QgaW5mb3JtYXRpb25hbFAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbmluZm9ybWF0aW9uYWxQLmlubmVySFRNTCA9IFwiVGhlIGluYm94IHNlY3Rpb24gaXMgZm9yIDxiPnJldmlldyBvbmx5PC9iPi4gWW91IGNhbid0IGNyZWF0ZSwgZWRpdCBvciBjaGVjayB0b2RvIGl0ZW1zIGhlcmUuIFlvdSBuZWVkIHRvIGNyZWF0ZSBzZXBhcmF0ZSBwcm9qZWN0IGZvciB0aGF0LlwiO1xuaW5mb3JtYXRpb25hbFAuc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbmluZm9ybWF0aW9uYWxQLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuaW5mb3JtYXRpb25hbFAuc3R5bGUuYm90dG9tID0gXCI1cHhcIjtcbmNvbnRlbnQuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG5jb250ZW50LmFwcGVuZENoaWxkKGluZm9ybWF0aW9uYWxQKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjbGVhckNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiaW5ib3giLCJpbmJveEFycmF5IiwiYWxsUHJvamVjdHMiLCJwdXNoIiwiYWN0aXZlQXJyYXkiLCJhbGxQcm9qZWN0QXJyYXlzIiwiY29udGVudCIsInByb2plY3REaXYiLCJwcm9qZWN0IiwicHJpb3JpdHkiLCJzZXR0aW5nUHJpb3JpdHkiLCJzaG93SXRlbSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY2hlY2tDaGVja2JveCIsImV2ZW50IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImNoZWNrZWQiLCJjb25zb2xlIiwibG9nIiwic2V0QXR0cmlidXRlIiwiaW5kZXgiLCJlZGl0U2hvd0l0ZW0iLCJpbnB1dFRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImlucHV0RGVzY3JpcHRpb24iLCJpbnB1dER1ZURhdGUiLCJpbnB1dFByaW9yaXR5Iiwib3B0aW9uTG93Iiwib3B0aW9uTm9ybWFsIiwib3B0aW9uSGlnaCIsImlubmVyVGV4dCIsImNoaWxkcmVuIiwiY2hlY2tib3giLCJpdGVtIiwib3JpZ2luYWxUaXRsZSIsIm9yaWdpbmFsRGVzY3JpcHRpb24iLCJvcmlnaW5hbER1ZURhdGUiLCJvcmlnaW5hbFByaW9yaXR5IiwiZGlzYWJsZWQiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwic2VsZWN0ZWQiLCJ0eXBlIiwicmVtb3ZlQ2hpbGQiLCJzYXZlQnV0dG9uIiwiY2xvc2VCdXR0b24iLCJkZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFyc2VJbnQiLCJwb3AiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RHVlRGF0ZSIsImZvbnRTdHlsZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwiYWRkSXRlbSIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJkaXNwbGF5ZWQiLCJkaXNwbGF5ZWRJdGVtcyIsImNvbnRhaW5zIiwiaiIsInNob3dpbmdJdGVtcyIsImluZm9ybWF0aW9uYWxQIiwicHJvamVjdEl0ZW0iLCJwYWRkaW5nIiwibWFyZ2luVG9wIiwiZmlyc3RDaGlsZCIsInNob3dUaXRsZSIsInNob3dEZXNjcmlwdGlvbiIsInNob3dEdWVEYXRlIiwiZSIsImRpYWxvZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xvc2VEaWFsb2ciLCJzaG93TW9kYWwiLCJyZXNldCIsImNsb3NlIiwiSXRlbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImFsZXJ0IiwiY3JlYXRlVG9kb0l0ZW1GdW5jIiwibmV3UHJvamVjdEJ1dHRvbiIsInByb2plY3RzIiwicHJvamVjdE5hbWVJbnB1dCIsInByb2plY3RTYXZlIiwicHJvamVjdEV4aXQiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsImZvbnRTaXplIiwiY29sb3IiLCJBcnJheSIsInBvc2l0aW9uIiwiYm90dG9tIl0sInNvdXJjZVJvb3QiOiIifQ==