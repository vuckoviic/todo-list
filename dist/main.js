(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}e.d({},{q7:()=>C,r3:()=>g,ar:()=>b,dt:()=>x});const n=document.getElementById("inbox");let i=[],l=[];l.push(n);let d,a,o=[];function r(e){e.style.backgroundColor="low"===a?"lightblue":"normal"==a?"rgb(51, 126, 245)":"red"}function c(e){a=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked?(e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true")):"low"===a?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==a?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"))}function s(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),i=document.createElement("input"),l=document.createElement("select"),o=document.createElement("option"),c=document.createElement("option"),s=document.createElement("option");o.innerText="Low",c.innerText="Normal",s.innerText="High",o.setAttribute("value","low"),c.setAttribute("value","normal"),s.setAttribute("value","high");const u=e.children,p=u.item(0),h=u.item(1).innerText,g=u.item(2).innerText,v=u.item(3).innerText,E=e.getAttribute("data-priority");p.disabled=!0,t.value=h,n.innerText=g,i.value=v,l.innerText=E,l.appendChild(o),l.appendChild(c),l.appendChild(s),"low"==E?o.selected=!0:"normal"==E?c.selected=!0:"high"==E&&(s.selected=!0),i.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(l),e.removeChild(u.item(1)),e.removeChild(u.item(1)),e.removeChild(u.item(1));const y=document.createElement("button"),C=document.createElement("button"),b=document.createElement("button");y.classList.add("editButton","saveEditButton"),C.classList.add("editButton","closeEditButton"),b.classList.add("editButton","deleteEditButton"),y.innerText="Save",C.innerText="Close",b.innerText="Delete",e.appendChild(b),e.appendChild(C),e.appendChild(y),b.addEventListener("click",(()=>{m.removeChild(e);const t=parseInt(e.getAttribute("data-index"));d.pop(d[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),C.addEventListener("click",(()=>{const d=document.createElement("h3"),a=document.createElement("p"),o=document.createElement("p");e.setAttribute("data-priority",E),d.innerText=h,a.innerText=g,a.style.fontStyle="italic",o.innerText=v,e.appendChild(d),e.appendChild(a),e.appendChild(o),e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(l),e.removeChild(y),e.removeChild(C),e.removeChild(b),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),y.addEventListener("click",(()=>{const o=document.createElement("h3"),c=document.createElement("p"),s=document.createElement("p");o.innerText=t.value,c.innerText=n.value,c.style.fontStyle="italic",s.innerText=i.value;const m=parseInt(e.getAttribute("data-index"));d[m].title=t.value,d[m].description=n.value,d[m].dueDate=i.value,d[m].priority=l.value,a=l.value,r(e),e.setAttribute("data-priority",l.value),console.log(d[m]),console.log("Saved item's priority is: "+d[m].priority),e.appendChild(o),e.appendChild(c),e.appendChild(s),e.removeChild(t),e.removeChild(n),e.removeChild(i),e.removeChild(l),e.removeChild(y),e.removeChild(C),e.removeChild(b),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}o.push(i),d=i,n.classList.add("active-project"),n.addEventListener("click",(()=>{t();for(let e=0;e<l.length;e++)l[e].classList.remove("active-project"),l[e].displayed=!1,p=0;n.classList.add("active-project");for(let e=0;e<l.length;e++)l[e].classList.contains("active-project")&&(d=o[e]);h(d)}));const m=document.getElementById("content");let u,p=0;function h(e){for(let t=p;t<e.length;t++){u=document.createElement("div");const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const i=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");i.innerHTML="<h3>"+e[t].title+"</h3>",l.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",a=e[t].priority,r(u),u.setAttribute("data-priority",a),u.setAttribute("data-index",t),u.setAttribute("data-checked","false"),u.setAttribute("data-editing","false"),u.appendChild(n),u.appendChild(i),u.appendChild(l),u.appendChild(d),u.classList.add("showItemDiv"),l.classList.add("showDescription"),m.appendChild(u),n.addEventListener("click",c),u.addEventListener("click",(e=>{e.target==u&&"false"==u.getAttribute("data-checked")&&"false"==u.getAttribute("data-editing")&&s(e.target)})),e[t].displayed=!0,p++}}const g=document.getElementsByTagName("dialog")[0],v=document.getElementById("addItem"),E=document.getElementById("closeDialog"),y=document.getElementsByTagName("form")[0];v.addEventListener("click",(()=>{g.showModal(),y.reset()})),E.addEventListener("click",(()=>{g.close()}));class C{constructor(e,t,n,i){this.title=e,this.description=t,this.dueDate=n,this.priority=i}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,i=document.getElementById("dueDate").value;if(a=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===i)alert("Please Choose Your Due Date.");else{const l=new C(t,n,i,a);console.log(l),console.log(e),e.push(l),h(e),g.close()}}(d)}));const b=document.getElementById("newProject"),x=document.getElementById("projects");b.addEventListener("click",(function(){const e=document.createElement("button"),n=document.createElement("input"),i=document.createElement("button"),a=document.createElement("button");i.innerText="Save",a.innerText="Exit",e.style.padding="3px",i.style.backgroundColor="white",i.style.maxHeight="15px",i.style.maxWidth="15px",i.style.fontSize="1em",i.style.color="navy",i.style.marginTop="5px",a.style.backgroundColor="white",a.style.maxHeight="15px",a.style.maxWidth="15px",a.style.fontSize="1em",a.style.color="navy",a.style.marginTop="5px",e.appendChild(n),e.appendChild(a),e.appendChild(i),i.addEventListener("click",(()=>{let i=n.value;i.length<1?alert("Please Insert Name For Your Project."):(e.innerText=i,i=new Array,o.push(i),e.addEventListener("click",(()=>{t();for(let e=0;e<l.length;e++)l[e].classList.remove("active-project"),l[e].displayed=!1,p=0;e.classList.add("active-project");for(let e=0;e<l.length;e++)l[e].classList.contains("active-project")&&(d=o[e]);h(d)})))})),a.addEventListener("click",(()=>{x.removeChild(e)})),x.removeChild(b),x.appendChild(e),x.appendChild(b),l.push(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Oi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2xlYXJDb250ZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY3JlYXRlVG9kb0l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NldHRpbmdQcmlvcml0eS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2hlY2tDaGVja2JveC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZWRpdFNob3dJdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zaG93aW5nSXRlbXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29udGVudCgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBwcm9qZWN0cywgbmV3UHJvamVjdEJ1dHRvbiB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGVhckNvbnRlbnQgfSBmcm9tIFwiLi9jbGVhckNvbnRlbnQuanNcIjtcbmltcG9ydCB7IGRpc3BsYXllZEl0ZW1zLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuY29uc3QgaW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluYm94XCIpO1xubGV0IGluYm94QXJyYXkgPSBbXTtcblxubGV0IGFsbFByb2plY3RzID0gW107XG5hbGxQcm9qZWN0cy5wdXNoKGluYm94KTtcblxubGV0IGFsbFByb2plY3RBcnJheXMgPSBbXTtcbmFsbFByb2plY3RBcnJheXMucHVzaChpbmJveEFycmF5KTtcbmV4cG9ydCBsZXQgYWN0aXZlQXJyYXk7XG5cbmFjdGl2ZUFycmF5ID0gaW5ib3hBcnJheTtcblxuaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgIGNsZWFyQ29udGVudCgpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgIH1cblxuICAgIGluYm94LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuXG59KTtcblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdCgpIHtcblxuICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgcHJvamVjdFNhdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHByb2plY3RFeGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBcbiAgICBwcm9qZWN0U2F2ZS5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBwcm9qZWN0RXhpdC5pbm5lclRleHQgPSBcIkV4aXRcIjtcblxuICAgIHByb2plY3Quc3R5bGUucGFkZGluZyA9IFwiM3B4XCI7XG5cbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdEV4aXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLm1heEhlaWdodCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLm1heFdpZHRoID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuZm9udFNpemUgPSBcIjFlbVwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLmNvbG9yID0gXCJuYXZ5XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcblxuICAgIHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWVJbnB1dCk7XG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0RXhpdCk7XG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0U2F2ZSk7XG5cbiAgICBwcm9qZWN0U2F2ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBcbiAgICAgICAgbGV0IG5hbWUgPSBwcm9qZWN0TmFtZUlucHV0LnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IE5hbWUgRm9yIFlvdXIgUHJvamVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3QuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGFsbFByb2plY3RBcnJheXMucHVzaChuYW1lKTtcbiAgICBcbiAgICAgICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLXByb2plY3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFycmF5ID0gYWxsUHJvamVjdEFycmF5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHByb2plY3RFeGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKHByb2plY3QpO1xuICAgIH0pXG5cbiAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChwcm9qZWN0KTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcblxuICAgIGFsbFByb2plY3RzLnB1c2gocHJvamVjdCk7XG5cbn0iLCJpbXBvcnQgeyBJdGVtLCBkaWFsb2cgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5cbmV4cG9ydCBsZXQgcHJpb3JpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbUZ1bmMgKGFjdGl2ZUFycmF5KSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcblxuICAgIGlmICh0aXRsZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBhIFRpdGxlLlwiKVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgRGVzY3JpcHRpb24uXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBDaG9vc2UgWW91ciBEdWUgRGF0ZS5cIilcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXkpO1xuICAgICAgICBhY3RpdmVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICB9XG5cblxufSIsImltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IHNob3dJdGVtLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdQcmlvcml0eSAoc2hvd0l0ZW0pIHtcbiAgICBcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibG93XCIpIHtcbiAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgfVxuICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoZWNrYm94KGV2ZW50KSB7XG4gICAgcHJpb3JpdHkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgY2hlY2tlZFwiKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIik7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBub3QgY2hlY2tlZFwiKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5XCI7XG5pbXBvcnQgeyBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgY29udGVudCB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0U2hvd0l0ZW0oc2hvd0l0ZW0pIHtcblxuICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcInRydWVcIik7XG4gICAgY29uc29sZS5sb2coXCJEaXYgSVMgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vd1wiKTtcblxuICAgIGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBjb25zdCBpbnB1dER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG5cbiAgICBjb25zdCBvcHRpb25Mb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbk5vcm1hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICBvcHRpb25Mb3cuaW5uZXJUZXh0ID0gXCJMb3dcIjtcbiAgICBvcHRpb25Ob3JtYWwuaW5uZXJUZXh0ID0gXCJOb3JtYWxcIjtcbiAgICBvcHRpb25IaWdoLmlubmVyVGV4dCA9IFwiSGlnaFwiO1xuXG4gICAgb3B0aW9uTG93LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibG93XCIpOyBcbiAgICBvcHRpb25Ob3JtYWwuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJub3JtYWxcIik7XG4gICAgb3B0aW9uSGlnaC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImhpZ2hcIik7XG5cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gc2hvd0l0ZW0uY2hpbGRyZW47XG4gICAgY29uc3QgY2hlY2tib3ggPSBjaGlsZHJlbi5pdGVtKDApO1xuICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBjaGlsZHJlbi5pdGVtKDEpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbERlc2NyaXB0aW9uID0gY2hpbGRyZW4uaXRlbSgyKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEdWVEYXRlID0gY2hpbGRyZW4uaXRlbSgzKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxQcmlvcml0eSA9IHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBjaGVja2JveC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBpbnB1dFRpdGxlLnZhbHVlID0gb3JpZ2luYWxUaXRsZTtcbiAgICBpbnB1dERlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgaW5wdXREdWVEYXRlLnZhbHVlID0gb3JpZ2luYWxEdWVEYXRlO1xuICAgIGlucHV0UHJpb3JpdHkuaW5uZXJUZXh0ID0gb3JpZ2luYWxQcmlvcml0eTtcblxuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uTG93KTtcbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbk5vcm1hbCk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25IaWdoKTtcbiAgICBcbiAgICBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImxvd1wiKSB7XG4gICAgICAgIG9wdGlvbkxvdy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGVsc2UgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBvcHRpb25Ob3JtYWwuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwiaGlnaFwiKSB7XG4gICAgICAgIG9wdGlvbkhpZ2guc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlucHV0RHVlRGF0ZS50eXBlID0gXCJkYXRlXCI7XG4gICAgXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuXG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG5cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJzYXZlRWRpdEJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImNsb3NlRWRpdEJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJkZWxldGVFZGl0QnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkNsb3NlXCI7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcblxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHNob3dJdGVtKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgYWN0aXZlQXJyYXkucG9wKGFjdGl2ZUFycmF5W2luZGV4XSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSk7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdQcmlvcml0eSA9IHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgb3JpZ2luYWxQcmlvcml0eSk7XG5cbiAgICAgICAgbmV3VGl0bGUuaW5uZXJUZXh0ID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gb3JpZ2luYWxEZXNjcmlwdGlvbjtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgbmV3RHVlRGF0ZS5pbm5lclRleHQgPSBvcmlnaW5hbER1ZURhdGU7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICBjaGVja2JveC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSlcblxuICAgIHNhdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IGlucHV0RHVlRGF0ZS52YWx1ZTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIikpO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0udGl0bGUgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZGVzY3JpcHRpb24gPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZHVlRGF0ZT0gaW5wdXREdWVEYXRlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkgPSBpbnB1dFByaW9yaXR5LnZhbHVlO1xuXG4gICAgICAgIHByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBzZXR0aW5nUHJpb3JpdHkoc2hvd0l0ZW0pO1xuXG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBpbnB1dFByaW9yaXR5LnZhbHVlKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNhdmVkIGl0ZW0ncyBwcmlvcml0eSBpczogXCIgKyBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEdWVEYXRlKTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFRpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgY2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pO1xuXG59IiwiaW1wb3J0IHsgY2hlY2tDaGVja2JveCB9IGZyb20gXCIuL2NoZWNrQ2hlY2tib3guanNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGVkaXRTaG93SXRlbSB9IGZyb20gXCIuL2VkaXRTaG93SXRlbS5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5leHBvcnQgeyBjb250ZW50IH07XG5leHBvcnQgbGV0IHNob3dJdGVtO1xuXG5leHBvcnQgbGV0IGRpc3BsYXllZEl0ZW1zID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSkge1xuXG4gICAgZm9yIChsZXQgaSA9IGRpc3BsYXllZEl0ZW1zOyBpIDwgYWN0aXZlQXJyYXkubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICBzaG93SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgICAgICBjaGVja2JveC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IHNob3dUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHNob3dEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IHNob3dEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2hvd1RpdGxlLmlubmVySFRNTCA9XCI8aDM+XCIgKyBhY3RpdmVBcnJheVtpXS50aXRsZSArIFwiPC9oMz5cIjtcbiAgICAgICAgc2hvd0Rlc2NyaXB0aW9uLmlubmVySFRNTCA9XCI8cD5cIiArIGFjdGl2ZUFycmF5W2ldLmRlc2NyaXB0aW9uICsgXCI8L3A+XCI7XG4gICAgICAgIHNob3dEdWVEYXRlLmlubmVySFRNTCA9XCI8cD5cIiArIGFjdGl2ZUFycmF5W2ldLmR1ZURhdGUgKyBcIjwvcD5cIjtcbiAgICBcbiAgICAgICAgcHJpb3JpdHkgPSBhY3RpdmVBcnJheVtpXS5wcmlvcml0eTtcblxuICAgICAgICBzZXR0aW5nUHJpb3JpdHkoc2hvd0l0ZW0pO1xuICAgIFxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIHByaW9yaXR5KTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiLCBpKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgIFxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0uY2xhc3NMaXN0LmFkZChcInNob3dJdGVtRGl2XCIpO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInNob3dEZXNjcmlwdGlvblwiKTtcbiAgICBcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tDaGVja2JveCk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHNob3dJdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKSA9PSBcImZhbHNlXCIgJiYgc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIpID09IFwiZmFsc2VcIikge1xuICAgICAgICAgICAgICAgICAgICBlZGl0U2hvd0l0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aXZlQXJyYXlbaV0uZGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMrKztcbiAgICBcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2RvSXRlbUZ1bmMgfSBmcm9tICBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGNsZWFyQ29udGVudCB9IGZyb20gXCIuL2NsZWFyQ29udGVudC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXksIGNyZWF0ZU5ld1Byb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuXG5jb25zdCBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpYWxvZ1wiKVswXTtcbmV4cG9ydCB7IGRpYWxvZyB9O1xuY29uc3QgYWRkSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkSXRlbVwiKTtcbmNvbnN0IGNsb3NlRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZURpYWxvZ1wiKTtcblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZm9ybVwiKVswXTtcblxuYWRkSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICBmb3JtLnJlc2V0KCk7XG59KTtcblxuY2xvc2VEaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5leHBvcnQgY2xhc3MgSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRvZG9JdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVUb2RvSXRlbVwiKTtcblxuY3JlYXRlVG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY3JlYXRlVG9kb0l0ZW1GdW5jKGFjdGl2ZUFycmF5KTtcbn0pO1xuXG5leHBvcnQgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3UHJvamVjdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHNcIik7XG5cbm5ld1Byb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZU5ld1Byb2plY3QpIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY2xlYXJDb250ZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImluYm94IiwiaW5ib3hBcnJheSIsImFsbFByb2plY3RzIiwicHVzaCIsImFjdGl2ZUFycmF5IiwicHJpb3JpdHkiLCJhbGxQcm9qZWN0QXJyYXlzIiwic2V0dGluZ1ByaW9yaXR5Iiwic2hvd0l0ZW0iLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNoZWNrQ2hlY2tib3giLCJldmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjaGVja2VkIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImVkaXRTaG93SXRlbSIsImlucHV0VGl0bGUiLCJjcmVhdGVFbGVtZW50IiwiaW5wdXREZXNjcmlwdGlvbiIsImlucHV0RHVlRGF0ZSIsImlucHV0UHJpb3JpdHkiLCJvcHRpb25Mb3ciLCJvcHRpb25Ob3JtYWwiLCJvcHRpb25IaWdoIiwiaW5uZXJUZXh0IiwiY2hpbGRyZW4iLCJjaGVja2JveCIsIml0ZW0iLCJvcmlnaW5hbFRpdGxlIiwib3JpZ2luYWxEZXNjcmlwdGlvbiIsIm9yaWdpbmFsRHVlRGF0ZSIsIm9yaWdpbmFsUHJpb3JpdHkiLCJkaXNhYmxlZCIsInZhbHVlIiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3RlZCIsInR5cGUiLCJyZW1vdmVDaGlsZCIsInNhdmVCdXR0b24iLCJjbG9zZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250ZW50IiwiaW5kZXgiLCJwYXJzZUludCIsInBvcCIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwiZm9udFN0eWxlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJpIiwibGVuZ3RoIiwicmVtb3ZlIiwiZGlzcGxheWVkIiwiZGlzcGxheWVkSXRlbXMiLCJjb250YWlucyIsInNob3dpbmdJdGVtcyIsInNob3dUaXRsZSIsInNob3dEZXNjcmlwdGlvbiIsInNob3dEdWVEYXRlIiwiZSIsImRpYWxvZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiYWRkSXRlbSIsImNsb3NlRGlhbG9nIiwic2hvd01vZGFsIiwicmVzZXQiLCJjbG9zZSIsIkl0ZW0iLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJhbGVydCIsImNyZWF0ZVRvZG9JdGVtRnVuYyIsIm5ld1Byb2plY3RCdXR0b24iLCJwcm9qZWN0cyIsInByb2plY3QiLCJwcm9qZWN0TmFtZUlucHV0IiwicHJvamVjdFNhdmUiLCJwcm9qZWN0RXhpdCIsInBhZGRpbmciLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsImZvbnRTaXplIiwiY29sb3IiLCJtYXJnaW5Ub3AiLCJuYW1lIiwiQXJyYXkiXSwic291cmNlUm9vdCI6IiJ9