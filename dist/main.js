(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}e.d({},{q7:()=>C,B5:()=>y,r3:()=>v,ar:()=>k,dt:()=>x});const n=document.getElementById("inbox");let l=[],i=[];i.push(n);let d,o,a=[];function r(e){e.style.backgroundColor="low"===o?"lightblue":"normal"==o?"rgb(51, 126, 245)":"red"}function c(e){if(o=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked){e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true");let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!0,console.log(d[t].checked)}else{"low"===o?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==o?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"));let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!1,console.log(d[t].checked)}}function s(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),l=document.createElement("input"),i=document.createElement("select"),a=document.createElement("option"),c=document.createElement("option"),s=document.createElement("option");a.innerText="Low",c.innerText="Normal",s.innerText="High",a.setAttribute("value","low"),c.setAttribute("value","normal"),s.setAttribute("value","high");const u=e.children,p=u.item(0),h=u.item(1).innerText,g=u.item(2).innerText,v=u.item(3).innerText,y=e.getAttribute("data-priority");p.disabled=!0,t.value=h,n.innerText=g,l.value=v,i.innerText=y,i.appendChild(a),i.appendChild(c),i.appendChild(s),"low"==y?a.selected=!0:"normal"==y?c.selected=!0:"high"==y&&(s.selected=!0),l.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(i),e.removeChild(u.item(1)),e.removeChild(u.item(1)),e.removeChild(u.item(1));const E=document.createElement("button"),b=document.createElement("button"),C=document.createElement("button");E.classList.add("editButton","saveEditButton"),b.classList.add("editButton","closeEditButton"),C.classList.add("editButton","deleteEditButton"),E.innerText="Save",b.innerText="Close",C.innerText="Delete",e.appendChild(C),e.appendChild(b),e.appendChild(E),C.addEventListener("click",(()=>{m.removeChild(e);const t=parseInt(e.getAttribute("data-index"));d.pop(d[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const d=document.createElement("h3"),o=document.createElement("p"),a=document.createElement("p");e.setAttribute("data-priority",y),d.innerText=h,o.innerText=g,o.style.fontStyle="italic",a.innerText=v,e.appendChild(d),e.appendChild(o),e.appendChild(a),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(E),e.removeChild(b),e.removeChild(C),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),E.addEventListener("click",(()=>{const a=document.createElement("h3"),c=document.createElement("p"),s=document.createElement("p");a.innerText=t.value,c.innerText=n.value,c.style.fontStyle="italic",s.innerText=l.value;const m=parseInt(e.getAttribute("data-index"));d[m].title=t.value,d[m].description=n.value,d[m].dueDate=l.value,d[m].priority=i.value,o=i.value,r(e),e.setAttribute("data-priority",i.value),console.log(d[m]),console.log("Saved item's priority is: "+d[m].priority),e.appendChild(a),e.appendChild(c),e.appendChild(s),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(E),e.removeChild(b),e.removeChild(C),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}a.push(l),d=l,n.classList.add("active-project"),n.addEventListener("click",(()=>{t(),y.disabled=!0,y.style.backgroundColor="grey";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,h=0;n.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=a[e]);for(let e=0;e<l.length;e++){for(let t=0;t<l[e].length;t++)l[e][t].displayed=!1,console.log(l[e][t]);console.log("displayedItems: "+h),h=0,g(l[e])}}));const m=document.getElementById("content");let u;const p=document.getElementById("inbox");let h=0;function g(e){for(let t=h;t<e.length;t++){u=document.createElement("div");const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");l.innerHTML="<h3>"+e[t].title+"</h3>",i.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",o=e[t].priority,r(u),u.setAttribute("data-priority",o),u.setAttribute("data-index",t),u.setAttribute("data-checked","false"),u.setAttribute("data-editing","false"),1==e[t].checked?(n.checked=!0,u.setAttribute("data-checked","true"),u.style.backgroundColor="green"):(n.checked=!1,u.setAttribute("data-checked","false")),u.appendChild(n),u.appendChild(l),u.appendChild(i),u.appendChild(d),u.classList.add("showItemDiv"),i.classList.add("showDescription"),m.appendChild(u),n.addEventListener("click",c),u.addEventListener("click",(e=>{e.target==u&&"false"==u.getAttribute("data-checked")&&"false"==u.getAttribute("data-editing")&&0==p.classList.contains("active-project")&&s(e.target)})),e[t].displayed=!0,h++}}const v=document.getElementsByTagName("dialog")[0],y=document.getElementById("addItem");y.disabled=!0,1==y.disabled?y.style.backgroundColor="grey":y.style.backgroundColor="navy";const E=document.getElementById("closeDialog"),b=document.getElementsByTagName("form")[0];y.addEventListener("click",(()=>{v.showModal(),b.reset()})),E.addEventListener("click",(()=>{v.close()}));class C{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("dueDate").value;if(o=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===l)alert("Please Choose Your Due Date.");else{const i=new C(t,n,l,o);console.log(i),console.log(e),e.push(i),g(e),v.close()}}(d)}));const k=document.getElementById("newProject"),x=document.getElementById("projects");k.addEventListener("click",(function(){const e=document.createElement("button"),n=document.createElement("input"),o=document.createElement("button"),r=document.createElement("button");o.innerText="Save",r.innerText="Exit",e.style.padding="3px",o.style.backgroundColor="white",o.style.maxHeight="15px",o.style.maxWidth="15px",o.style.fontSize="1em",o.style.color="navy",o.style.marginTop="5px",r.style.backgroundColor="white",r.style.maxHeight="15px",r.style.maxWidth="15px",r.style.fontSize="1em",r.style.color="navy",r.style.marginTop="5px",e.appendChild(n),e.appendChild(r),e.appendChild(o),o.addEventListener("click",(()=>{let o=n.value;o.length<1?alert("Please Insert Name For Your Project."):(e.innerText=o,o=new Array,a.push(o),l.push(o),e.addEventListener("click",(()=>{t(),y.disabled=!1,y.style.backgroundColor="navy";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,h=0;e.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=a[e]);g(d)})))})),r.addEventListener("click",(()=>{x.removeChild(e)})),x.removeChild(k),x.appendChild(e),x.appendChild(k),i.push(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkgsRUFBWWhGLE1BQU1vRixTQUFXLE1BQzdCSixFQUFZaEYsTUFBTXFGLE1BQVEsT0FDMUJMLEVBQVloRixNQUFNc0YsVUFBWSxNQUU5QlQsRUFBUTlDLFlBQVkrQyxHQUNwQkQsRUFBUTlDLFlBQVlpRCxHQUNwQkgsRUFBUTlDLFlBQVlnRCxHQUVwQkEsRUFBWXZDLGlCQUFpQixTQUFTLEtBRWxDLElBQUkrQyxFQUFPVCxFQUFpQmhELE1BRXhCeUQsRUFBS2xDLE9BQVMsRUFDZG9CLE1BQU0seUNBSU5JLEVBQVF4RCxVQUFZa0UsRUFDcEJBLEVBQU8sSUFBSUMsTUFDWDNGLEVBQWlCSCxLQUFLNkYsR0FDdEIvRixFQUFXRSxLQUFLNkYsR0FFaEJWLEVBQVFyQyxpQkFBaUIsU0FBUyxLQUU5QnJELElBRUFnRSxFQUFRdEIsVUFBVyxFQUNuQnNCLEVBQVFuRCxNQUFNQyxnQkFBa0IsT0FFaEMsSUFBSyxJQUFJbUQsRUFBSSxFQUFHQSxFQUFJM0QsRUFBWTRELE9BQVFELElBQ3BDM0QsRUFBWTJELEdBQUdkLFVBQVVnQixPQUFPLGtCQUNoQzdELEVBQVkyRCxHQUFHRyxXQUFZLEVBQzNCQyxFQUFpQixFQUdyQnFCLEVBQVF2QyxVQUFVQyxJQUFJLGtCQUV0QixJQUFLLElBQUlhLEVBQUksRUFBR0EsRUFBSTNELEVBQVk0RCxPQUFRRCxJQUNoQzNELEVBQVkyRCxHQUFHZCxVQUFVbUIsU0FBUyxvQkFDbEM5RCxFQUFjRSxFQUFpQnVELElBSXZDTyxFQUFhaEUsRUFBWSxJQTRCakMsSUFJSnFGLEVBQVl4QyxpQkFBaUIsU0FBUyxLQUNsQ29DLEVBQVMxQyxZQUFZMkMsRUFBUSxJQUdqQ0QsRUFBUzFDLFlBQVl5QyxHQUNyQkMsRUFBUzdDLFlBQVk4QyxHQUNyQkQsRUFBUzdDLFlBQVk0QyxHQUVyQmxGLEVBQVlDLEtBQUttRixFQUVyQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NsZWFyQ29udGVudC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZVRvZG9JdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zZXR0aW5nUHJpb3JpdHkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NoZWNrQ2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2VkaXRTaG93SXRlbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2hvd2luZ0l0ZW1zLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImV4cG9ydCBmdW5jdGlvbiBjbGVhckNvbnRlbnQoKSB7XG4gICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbiAgICBjb250ZW50LmlubmVySFRNTCA9IFwiXCI7XG59IiwiaW1wb3J0IHsgcHJvamVjdHMsIG5ld1Byb2plY3RCdXR0b24sIGFkZEl0ZW0gfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBkaXNwbGF5ZWRJdGVtcywgc2hvd2luZ0l0ZW1zLCBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuXG5jb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5ib3hcIik7XG5leHBvcnQgbGV0IGluYm94QXJyYXkgPSBbXTtcblxubGV0IGFsbFByb2plY3RzID0gW107XG5hbGxQcm9qZWN0cy5wdXNoKGluYm94KTtcblxubGV0IGFsbFByb2plY3RBcnJheXMgPSBbXTtcbmFsbFByb2plY3RBcnJheXMucHVzaChpbmJveEFycmF5KTtcbmV4cG9ydCBsZXQgYWN0aXZlQXJyYXk7XG5cbmFjdGl2ZUFycmF5ID0gaW5ib3hBcnJheTtcblxuaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgIGNsZWFyQ29udGVudCgpO1xuXG4gICAgYWRkSXRlbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICB9XG5cbiAgICBpbmJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXByb2plY3RcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSkge1xuICAgICAgICAgICAgYWN0aXZlQXJyYXkgPSBhbGxQcm9qZWN0QXJyYXlzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmJveEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5ib3hBcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaW5ib3hBcnJheVtpXVtqXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXlbaV1bal0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5ZWRJdGVtczogXCIgKyBkaXNwbGF5ZWRJdGVtcyk7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKGluYm94QXJyYXlbaV0pO1xuICAgIH1cbiAgICBcbn0pO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KCkge1xuXG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBwcm9qZWN0U2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdEV4aXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIFxuICAgIHByb2plY3RTYXZlLmlubmVyVGV4dCA9IFwiU2F2ZVwiO1xuICAgIHByb2plY3RFeGl0LmlubmVyVGV4dCA9IFwiRXhpdFwiO1xuXG4gICAgcHJvamVjdC5zdHlsZS5wYWRkaW5nID0gXCIzcHhcIjtcblxuICAgIHByb2plY3RTYXZlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZUlucHV0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RFeGl0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RTYXZlKTtcblxuICAgIHByb2plY3RTYXZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIFxuICAgICAgICBsZXQgbmFtZSA9IHByb2plY3ROYW1lSW5wdXQudmFsdWU7XG4gICAgICAgIFxuICAgICAgICBpZiAobmFtZS5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBhbGVydChcIlBsZWFzZSBJbnNlcnQgTmFtZSBGb3IgWW91ciBQcm9qZWN0LlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcHJvamVjdC5pbm5lclRleHQgPSBuYW1lO1xuICAgICAgICAgICAgbmFtZSA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgYWxsUHJvamVjdEFycmF5cy5wdXNoKG5hbWUpO1xuICAgICAgICAgICAgaW5ib3hBcnJheS5wdXNoKG5hbWUpO1xuICAgIFxuICAgICAgICAgICAgcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCk9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRkSXRlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJuYXZ5XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY29uc3QgZGVsZXRlUHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LmlubmVyVGV4dCA9IFwiRGVsZXRlIFByb2plY3RcIjtcblxuICAgICAgICAgICAgLy8gcHJvamVjdC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICAvLyBwcm9qZWN0LnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuICAgICAgICAgICAgLy8gcHJvamVjdC5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAvLyBwcm9qZWN0LnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuXG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLm1heFdpZHRoID0gXCIxNXB4XCI7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3Quc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcblxuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIC8vICAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChwcm9qZWN0KTtcbiAgICAgICAgICAgIC8vICAgICBhbGxQcm9qZWN0QXJyYXlzLnBvcChuYW1lKTtcbiAgICAgICAgICAgIC8vICAgICBpbmJveEFycmF5LnBvcChuYW1lKTtcbiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhhbGxQcm9qZWN0cyk7XG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coYWxsUHJvamVjdEFycmF5cyk7XG4gICAgICAgICAgICAvLyB9KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBwcm9qZWN0LmFwcGVuZENoaWxkKGRlbGV0ZVByb2plY3QpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHByb2plY3RFeGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKHByb2plY3QpO1xuICAgIH0pXG5cbiAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChwcm9qZWN0KTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcblxuICAgIGFsbFByb2plY3RzLnB1c2gocHJvamVjdCk7XG5cbn0iLCJpbXBvcnQgeyBJdGVtLCBkaWFsb2cgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5cbmV4cG9ydCBsZXQgcHJpb3JpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbUZ1bmMgKGFjdGl2ZUFycmF5KSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcblxuICAgIGlmICh0aXRsZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBhIFRpdGxlLlwiKVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgRGVzY3JpcHRpb24uXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBDaG9vc2UgWW91ciBEdWUgRGF0ZS5cIilcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXkpO1xuICAgICAgICBhY3RpdmVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICB9XG5cblxufSIsImltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IHNob3dJdGVtLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdQcmlvcml0eSAoc2hvd0l0ZW0pIHtcbiAgICBcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibG93XCIpIHtcbiAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgfVxuICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoZWNrYm94KGV2ZW50KSB7XG4gICAgcHJpb3JpdHkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgY2hlY2tlZFwiKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbGV0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0uY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpO1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgKHByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5XCI7XG5pbXBvcnQgeyBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgY29udGVudCB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0U2hvd0l0ZW0oc2hvd0l0ZW0pIHtcblxuICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcInRydWVcIik7XG4gICAgY29uc29sZS5sb2coXCJEaXYgSVMgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vd1wiKTtcblxuICAgIGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBjb25zdCBpbnB1dER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG5cbiAgICBjb25zdCBvcHRpb25Mb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbk5vcm1hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICBvcHRpb25Mb3cuaW5uZXJUZXh0ID0gXCJMb3dcIjtcbiAgICBvcHRpb25Ob3JtYWwuaW5uZXJUZXh0ID0gXCJOb3JtYWxcIjtcbiAgICBvcHRpb25IaWdoLmlubmVyVGV4dCA9IFwiSGlnaFwiO1xuXG4gICAgb3B0aW9uTG93LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibG93XCIpOyBcbiAgICBvcHRpb25Ob3JtYWwuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJub3JtYWxcIik7XG4gICAgb3B0aW9uSGlnaC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImhpZ2hcIik7XG5cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gc2hvd0l0ZW0uY2hpbGRyZW47XG4gICAgY29uc3QgY2hlY2tib3ggPSBjaGlsZHJlbi5pdGVtKDApO1xuICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBjaGlsZHJlbi5pdGVtKDEpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbERlc2NyaXB0aW9uID0gY2hpbGRyZW4uaXRlbSgyKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEdWVEYXRlID0gY2hpbGRyZW4uaXRlbSgzKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxQcmlvcml0eSA9IHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBjaGVja2JveC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBpbnB1dFRpdGxlLnZhbHVlID0gb3JpZ2luYWxUaXRsZTtcbiAgICBpbnB1dERlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgaW5wdXREdWVEYXRlLnZhbHVlID0gb3JpZ2luYWxEdWVEYXRlO1xuICAgIGlucHV0UHJpb3JpdHkuaW5uZXJUZXh0ID0gb3JpZ2luYWxQcmlvcml0eTtcblxuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uTG93KTtcbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbk5vcm1hbCk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25IaWdoKTtcbiAgICBcbiAgICBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImxvd1wiKSB7XG4gICAgICAgIG9wdGlvbkxvdy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGVsc2UgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBvcHRpb25Ob3JtYWwuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwiaGlnaFwiKSB7XG4gICAgICAgIG9wdGlvbkhpZ2guc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlucHV0RHVlRGF0ZS50eXBlID0gXCJkYXRlXCI7XG4gICAgXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuXG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG5cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJzYXZlRWRpdEJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImNsb3NlRWRpdEJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJkZWxldGVFZGl0QnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkNsb3NlXCI7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcblxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHNob3dJdGVtKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgYWN0aXZlQXJyYXkucG9wKGFjdGl2ZUFycmF5W2luZGV4XSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSk7XG5cbiAgICBjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdQcmlvcml0eSA9IHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgb3JpZ2luYWxQcmlvcml0eSk7XG5cbiAgICAgICAgbmV3VGl0bGUuaW5uZXJUZXh0ID0gb3JpZ2luYWxUaXRsZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gb3JpZ2luYWxEZXNjcmlwdGlvbjtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgbmV3RHVlRGF0ZS5pbm5lclRleHQgPSBvcmlnaW5hbER1ZURhdGU7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICBjaGVja2JveC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSlcblxuICAgIHNhdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IGlucHV0RHVlRGF0ZS52YWx1ZTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIikpO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0udGl0bGUgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZGVzY3JpcHRpb24gPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uZHVlRGF0ZT0gaW5wdXREdWVEYXRlLnZhbHVlO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkgPSBpbnB1dFByaW9yaXR5LnZhbHVlO1xuXG4gICAgICAgIHByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBzZXR0aW5nUHJpb3JpdHkoc2hvd0l0ZW0pO1xuXG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBpbnB1dFByaW9yaXR5LnZhbHVlKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0pO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlNhdmVkIGl0ZW0ncyBwcmlvcml0eSBpczogXCIgKyBhY3RpdmVBcnJheVtpbmRleF0ucHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEdWVEYXRlKTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFRpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgY2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pO1xuXG59IiwiaW1wb3J0IHsgY2hlY2tDaGVja2JveCB9IGZyb20gXCIuL2NoZWNrQ2hlY2tib3guanNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGVkaXRTaG93SXRlbSB9IGZyb20gXCIuL2VkaXRTaG93SXRlbS5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5leHBvcnQgeyBjb250ZW50IH07XG5leHBvcnQgbGV0IHNob3dJdGVtO1xuXG5jb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5ib3hcIik7XG5cbmV4cG9ydCBsZXQgZGlzcGxheWVkSXRlbXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd2luZ0l0ZW1zKGFjdGl2ZUFycmF5KSB7XG5cbiAgICBmb3IgKGxldCBpID0gZGlzcGxheWVkSXRlbXM7IGkgPCBhY3RpdmVBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHNob3dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiKTtcbiAgICAgICAgY29uc3Qgc2hvd1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzaG93VGl0bGUuaW5uZXJIVE1MID1cIjxoMz5cIiArIGFjdGl2ZUFycmF5W2ldLnRpdGxlICsgXCI8L2gzPlwiO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZGVzY3JpcHRpb24gKyBcIjwvcD5cIjtcbiAgICAgICAgc2hvd0R1ZURhdGUuaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZHVlRGF0ZSArIFwiPC9wPlwiO1xuICAgIFxuICAgICAgICBwcmlvcml0eSA9IGFjdGl2ZUFycmF5W2ldLnByaW9yaXR5O1xuXG4gICAgICAgIHNldHRpbmdQcmlvcml0eShzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgcHJpb3JpdHkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUFycmF5W2ldLmNoZWNrZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0uY2xhc3NMaXN0LmFkZChcInNob3dJdGVtRGl2XCIpO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInNob3dEZXNjcmlwdGlvblwiKTtcbiAgICBcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tDaGVja2JveCk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHNob3dJdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKSA9PSBcImZhbHNlXCIgJiYgc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIpID09IFwiZmFsc2VcIiAmJiBpbmJveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0U2hvd0l0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aXZlQXJyYXlbaV0uZGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMrKztcbiAgICBcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2RvSXRlbUZ1bmMgfSBmcm9tICBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGNsZWFyQ29udGVudCB9IGZyb20gXCIuL2NsZWFyQ29udGVudC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXksIGNyZWF0ZU5ld1Byb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuXG5jb25zdCBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpYWxvZ1wiKVswXTtcbmV4cG9ydCB7IGRpYWxvZyB9O1xuZXhwb3J0IGNvbnN0IGFkZEl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZEl0ZW1cIik7XG5hZGRJdGVtLmRpc2FibGVkID0gdHJ1ZTtcblxuaWYgKGFkZEl0ZW0uZGlzYWJsZWQgPT0gdHJ1ZSkge1xuICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCI7XG59XG5cbmVsc2Uge1xuICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJuYXZ5XCI7XG59XG5cbmNvbnN0IGNsb3NlRGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbG9zZURpYWxvZ1wiKTtcblxuY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZm9ybVwiKVswXTtcblxuYWRkSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICBmb3JtLnJlc2V0KCk7XG59KTtcblxuY2xvc2VEaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5leHBvcnQgY2xhc3MgSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRvZG9JdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVUb2RvSXRlbVwiKTtcblxuY3JlYXRlVG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgY3JlYXRlVG9kb0l0ZW1GdW5jKGFjdGl2ZUFycmF5KTtcbn0pO1xuXG5leHBvcnQgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmV3UHJvamVjdFwiKTtcbmV4cG9ydCBjb25zdCBwcm9qZWN0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvamVjdHNcIik7XG5cbm5ld1Byb2plY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZU5ld1Byb2plY3QpIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY2xlYXJDb250ZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImluYm94IiwiaW5ib3hBcnJheSIsImFsbFByb2plY3RzIiwicHVzaCIsImFjdGl2ZUFycmF5IiwicHJpb3JpdHkiLCJhbGxQcm9qZWN0QXJyYXlzIiwic2V0dGluZ1ByaW9yaXR5Iiwic2hvd0l0ZW0iLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNoZWNrQ2hlY2tib3giLCJldmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjaGVja2VkIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImluZGV4IiwiZWRpdFNob3dJdGVtIiwiaW5wdXRUaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJpbnB1dERlc2NyaXB0aW9uIiwiaW5wdXREdWVEYXRlIiwiaW5wdXRQcmlvcml0eSIsIm9wdGlvbkxvdyIsIm9wdGlvbk5vcm1hbCIsIm9wdGlvbkhpZ2giLCJpbm5lclRleHQiLCJjaGlsZHJlbiIsImNoZWNrYm94IiwiaXRlbSIsIm9yaWdpbmFsVGl0bGUiLCJvcmlnaW5hbERlc2NyaXB0aW9uIiwib3JpZ2luYWxEdWVEYXRlIiwib3JpZ2luYWxQcmlvcml0eSIsImRpc2FibGVkIiwidmFsdWUiLCJhcHBlbmRDaGlsZCIsInNlbGVjdGVkIiwidHlwZSIsInJlbW92ZUNoaWxkIiwic2F2ZUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnRlbnQiLCJwYXJzZUludCIsInBvcCIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwiZm9udFN0eWxlIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImR1ZURhdGUiLCJhZGRJdGVtIiwiaSIsImxlbmd0aCIsInJlbW92ZSIsImRpc3BsYXllZCIsImRpc3BsYXllZEl0ZW1zIiwiY29udGFpbnMiLCJqIiwic2hvd2luZ0l0ZW1zIiwic2hvd1RpdGxlIiwic2hvd0Rlc2NyaXB0aW9uIiwic2hvd0R1ZURhdGUiLCJlIiwiZGlhbG9nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjbG9zZURpYWxvZyIsInNob3dNb2RhbCIsInJlc2V0IiwiY2xvc2UiLCJJdGVtIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiYWxlcnQiLCJjcmVhdGVUb2RvSXRlbUZ1bmMiLCJuZXdQcm9qZWN0QnV0dG9uIiwicHJvamVjdHMiLCJwcm9qZWN0IiwicHJvamVjdE5hbWVJbnB1dCIsInByb2plY3RTYXZlIiwicHJvamVjdEV4aXQiLCJwYWRkaW5nIiwibWF4SGVpZ2h0IiwibWF4V2lkdGgiLCJmb250U2l6ZSIsImNvbG9yIiwibWFyZ2luVG9wIiwibmFtZSIsIkFycmF5Il0sInNvdXJjZVJvb3QiOiIifQ==