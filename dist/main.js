(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};e.d({},{q7:()=>C,r3:()=>v,ar:()=>x,dt:()=>f});var t={};function n(){document.getElementById("content").innerHTML=""}e.r(t),e.d(t,{q7:()=>C,r3:()=>v,ar:()=>x,dt:()=>f});const i=document.getElementById("inbox");let l=[],d=[];d.push(i);let a,o,r=[];function c(e){e.style.backgroundColor="low"===o?"lightblue":"normal"==o?"rgb(51, 126, 245)":"red"}function s(e){o=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked?(e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true")):"low"===o?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==o?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"))}function m(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const n=document.createElement("input"),i=document.createElement("textarea"),l=document.createElement("input"),d=document.createElement("select"),a=document.createElement("option"),r=document.createElement("option"),s=document.createElement("option");a.innerText="Low",r.innerText="Normal",s.innerText="High",a.setAttribute("value","low"),r.setAttribute("value","normal"),s.setAttribute("value","high");const m=e.children,p=m.item(0),h=m.item(1).innerText,g=m.item(2).innerText,v=m.item(3).innerText,y=e.getAttribute("data-priority");p.disabled=!0,n.value=h,i.innerText=g,l.value=v,d.innerText=y,d.appendChild(a),d.appendChild(r),d.appendChild(s),"low"==y?a.selected=!0:"normal"==y?r.selected=!0:"high"==y&&(s.selected=!0),l.type="date",e.appendChild(n),e.appendChild(i),e.appendChild(l),e.appendChild(d),e.removeChild(m.item(1)),e.removeChild(m.item(1)),e.removeChild(m.item(1));const E=document.createElement("button"),b=document.createElement("button"),C=document.createElement("button");E.classList.add("editButton","saveEditButton"),b.classList.add("editButton","closeEditButton"),C.classList.add("editButton","deleteEditButton"),E.innerText="Save",b.innerText="Close",C.innerText="Delete",e.appendChild(C),e.appendChild(b),e.appendChild(E),C.addEventListener("click",(()=>{u.removeChild(e),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const t=document.createElement("h3"),a=document.createElement("p"),o=document.createElement("p");e.setAttribute("data-priority",y),t.innerText=h,a.innerText=g,a.style.fontStyle="italic",o.innerText=v,e.appendChild(t),e.appendChild(a),e.appendChild(o),e.removeChild(n),e.removeChild(i),e.removeChild(l),e.removeChild(d),e.removeChild(E),e.removeChild(b),e.removeChild(C),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),E.addEventListener("click",(()=>{const a=document.createElement("h3"),r=document.createElement("p"),s=document.createElement("p");a.innerText=n.value,r.innerText=i.value,r.style.fontStyle="italic",s.innerText=l.value;const m=e.getAttribute("data-index");t.activeArray[m].title=n.value,t.activeArray[m].description=i.value,t.activeArray[m].dueDate=l.value,t.activeArray[m].priority=d.value,o=d.value,c(),e.setAttribute("data-priority",d.value),console.log(t.activeArray[m]),console.log("Saved item's priority is: "+t.activeArray[m].priority),e.appendChild(a),e.appendChild(r),e.appendChild(s),e.removeChild(n),e.removeChild(i),e.removeChild(l),e.removeChild(d),e.removeChild(E),e.removeChild(b),e.removeChild(C),p.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}r.push(l),a=l,i.classList.add("active-project"),i.addEventListener("click",(()=>{n();for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,h=0;i.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(a=r[e]);g(a)}));const u=document.getElementById("content");let p,h=0;function g(e){for(let t=h;t<e.length;t++){p=document.createElement("div");const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const i=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");i.innerHTML="<h3>"+e[t].title+"</h3>",l.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",o=e[t].priority,c(p),p.setAttribute("data-priority",o),p.setAttribute("data-index",t),p.setAttribute("data-checked","false"),p.setAttribute("data-editing","false"),p.appendChild(n),p.appendChild(i),p.appendChild(l),p.appendChild(d),p.classList.add("showItemDiv"),l.classList.add("showDescription"),u.appendChild(p),n.addEventListener("click",s),p.addEventListener("click",(e=>{e.target==p&&"false"==p.getAttribute("data-checked")&&"false"==p.getAttribute("data-editing")&&m(e.target)})),e[t].displayed=!0,h++}}const v=document.getElementsByTagName("dialog")[0],y=document.getElementById("addItem"),E=document.getElementById("closeDialog"),b=document.getElementsByTagName("form")[0];y.addEventListener("click",(()=>{v.showModal(),b.reset()})),E.addEventListener("click",(()=>{v.close()}));class C{constructor(e,t,n,i){this.title=e,this.description=t,this.dueDate=n,this.priority=i}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,i=document.getElementById("dueDate").value;if(o=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===i)alert("Please Choose Your Due Date.");else{const l=new C(t,n,i,o);console.log(l),console.log(e),e.push(l),g(e),v.close()}}(a)}));const x=document.getElementById("newProject"),f=document.getElementById("projects");x.addEventListener("click",(function(){const e=document.createElement("button"),t=document.createElement("input"),i=document.createElement("button"),l=document.createElement("button");i.innerText="Save",l.innerText="Exit",e.style.padding="3px",i.style.backgroundColor="white",i.style.maxHeight="15px",i.style.maxWidth="15px",i.style.fontSize="1em",i.style.color="navy",i.style.marginTop="5px",l.style.backgroundColor="white",l.style.maxHeight="15px",l.style.maxWidth="15px",l.style.fontSize="1em",l.style.color="navy",l.style.marginTop="5px",e.appendChild(t),e.appendChild(l),e.appendChild(i),i.addEventListener("click",(()=>{let i=t.value;i.length<1?alert("Please Insert Name For Your Project."):(e.innerText=i,i=new Array,r.push(i),e.addEventListener("click",(()=>{n();for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,h=0;e.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(a=r[e]);g(a)})))})),l.addEventListener("click",(()=>{f.removeChild(e)})),f.removeChild(x),f.appendChild(e),f.appendChild(x),d.push(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUMsS0FBSytFLEVBRXJCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2xlYXJDb250ZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY3JlYXRlVG9kb0l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NldHRpbmdQcmlvcml0eS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2hlY2tDaGVja2JveC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZWRpdFNob3dJdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zaG93aW5nSXRlbXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29udGVudCgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBwcm9qZWN0cywgbmV3UHJvamVjdEJ1dHRvbiB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGVhckNvbnRlbnQgfSBmcm9tIFwiLi9jbGVhckNvbnRlbnQuanNcIjtcbmltcG9ydCB7IGRpc3BsYXllZEl0ZW1zLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuY29uc3QgaW5ib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluYm94XCIpO1xubGV0IGluYm94QXJyYXkgPSBbXTtcblxubGV0IGFsbFByb2plY3RzID0gW107XG5hbGxQcm9qZWN0cy5wdXNoKGluYm94KTtcblxubGV0IGFsbFByb2plY3RBcnJheXMgPSBbXTtcbmFsbFByb2plY3RBcnJheXMucHVzaChpbmJveEFycmF5KTtcbmV4cG9ydCBsZXQgYWN0aXZlQXJyYXk7XG5cbmFjdGl2ZUFycmF5ID0gaW5ib3hBcnJheTtcblxuaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgIGNsZWFyQ29udGVudCgpO1xuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgIH1cblxuICAgIGluYm94LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuXG59KTtcblxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3UHJvamVjdCgpIHtcblxuICAgIGNvbnN0IHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHByb2plY3ROYW1lSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgcHJvamVjdFNhdmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IHByb2plY3RFeGl0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBcbiAgICBwcm9qZWN0U2F2ZS5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBwcm9qZWN0RXhpdC5pbm5lclRleHQgPSBcIkV4aXRcIjtcblxuICAgIHByb2plY3Quc3R5bGUucGFkZGluZyA9IFwiM3B4XCI7XG5cbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdEV4aXQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLm1heEhlaWdodCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLm1heFdpZHRoID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuZm9udFNpemUgPSBcIjFlbVwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLmNvbG9yID0gXCJuYXZ5XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcblxuICAgIHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWVJbnB1dCk7XG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0RXhpdCk7XG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0U2F2ZSk7XG5cbiAgICBwcm9qZWN0U2F2ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBcbiAgICAgICAgbGV0IG5hbWUgPSBwcm9qZWN0TmFtZUlucHV0LnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IE5hbWUgRm9yIFlvdXIgUHJvamVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3QuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGFsbFByb2plY3RBcnJheXMucHVzaChuYW1lKTtcbiAgICBcbiAgICAgICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1wcm9qZWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICBhbGxQcm9qZWN0c1tpXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheWVkSXRlbXMgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLXByb2plY3RcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUFycmF5ID0gYWxsUHJvamVjdEFycmF5c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHByb2plY3RFeGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKHByb2plY3QpO1xuICAgIH0pXG5cbiAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChwcm9qZWN0KTtcbiAgICBwcm9qZWN0cy5hcHBlbmRDaGlsZChuZXdQcm9qZWN0QnV0dG9uKTtcblxuICAgIGFsbFByb2plY3RzLnB1c2gocHJvamVjdCk7XG5cbn0iLCJpbXBvcnQgeyBJdGVtLCBkaWFsb2cgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5cbmV4cG9ydCBsZXQgcHJpb3JpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbUZ1bmMgKGFjdGl2ZUFycmF5KSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcblxuICAgIGlmICh0aXRsZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBhIFRpdGxlLlwiKVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgRGVzY3JpcHRpb24uXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBDaG9vc2UgWW91ciBEdWUgRGF0ZS5cIilcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXkpO1xuICAgICAgICBhY3RpdmVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICB9XG5cblxufSIsImltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IHNob3dJdGVtLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdQcmlvcml0eSAoc2hvd0l0ZW0pIHtcbiAgICBcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibG93XCIpIHtcbiAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgfVxuICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoZWNrYm94KGV2ZW50KSB7XG4gICAgcHJpb3JpdHkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgY2hlY2tlZFwiKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIik7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBub3QgY2hlY2tlZFwiKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLlwiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5XCI7XG5pbXBvcnQgeyBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgY29udGVudCB9IGZyb20gXCIuL3Nob3dpbmdJdGVtc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbVwiO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlZGl0U2hvd0l0ZW0oc2hvd0l0ZW0pIHtcblxuICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcInRydWVcIik7XG4gICAgY29uc29sZS5sb2coXCJEaXYgSVMgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vd1wiKTtcblxuICAgIGNvbnN0IGlucHV0VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXREZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBjb25zdCBpbnB1dER1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgY29uc3QgaW5wdXRQcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG5cbiAgICBjb25zdCBvcHRpb25Mb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbk5vcm1hbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uSGlnaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG5cbiAgICBvcHRpb25Mb3cuaW5uZXJUZXh0ID0gXCJMb3dcIjtcbiAgICBvcHRpb25Ob3JtYWwuaW5uZXJUZXh0ID0gXCJOb3JtYWxcIjtcbiAgICBvcHRpb25IaWdoLmlubmVyVGV4dCA9IFwiSGlnaFwiO1xuXG4gICAgb3B0aW9uTG93LnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibG93XCIpOyBcbiAgICBvcHRpb25Ob3JtYWwuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJub3JtYWxcIik7XG4gICAgb3B0aW9uSGlnaC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImhpZ2hcIik7XG5cblxuICAgIGNvbnN0IGNoaWxkcmVuID0gc2hvd0l0ZW0uY2hpbGRyZW47XG4gICAgY29uc3QgY2hlY2tib3ggPSBjaGlsZHJlbi5pdGVtKDApO1xuICAgIGNvbnN0IG9yaWdpbmFsVGl0bGUgPSBjaGlsZHJlbi5pdGVtKDEpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbERlc2NyaXB0aW9uID0gY2hpbGRyZW4uaXRlbSgyKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEdWVEYXRlID0gY2hpbGRyZW4uaXRlbSgzKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxQcmlvcml0eSA9IHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBjaGVja2JveC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICBpbnB1dFRpdGxlLnZhbHVlID0gb3JpZ2luYWxUaXRsZTtcbiAgICBpbnB1dERlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgaW5wdXREdWVEYXRlLnZhbHVlID0gb3JpZ2luYWxEdWVEYXRlO1xuICAgIGlucHV0UHJpb3JpdHkuaW5uZXJUZXh0ID0gb3JpZ2luYWxQcmlvcml0eTtcblxuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uTG93KTtcbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbk5vcm1hbCk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25IaWdoKTtcbiAgICBcbiAgICBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImxvd1wiKSB7XG4gICAgICAgIG9wdGlvbkxvdy5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGVsc2UgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBvcHRpb25Ob3JtYWwuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwiaGlnaFwiKSB7XG4gICAgICAgIG9wdGlvbkhpZ2guc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlucHV0RHVlRGF0ZS50eXBlID0gXCJkYXRlXCI7XG4gICAgXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuXG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG5cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJzYXZlRWRpdEJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImNsb3NlRWRpdEJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJkZWxldGVFZGl0QnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkNsb3NlXCI7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcblxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHNob3dJdGVtKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBvcmlnaW5hbFByaW9yaXR5KTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IG9yaWdpbmFsRHVlRGF0ZTtcblxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RHVlRGF0ZSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChzYXZlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgIGNoZWNrYm94LmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KVxuXG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXG4gICAgICAgIG5ld1RpdGxlLmlubmVyVGV4dCA9IGlucHV0VGl0bGUudmFsdWU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLmlubmVyVGV4dCA9IGlucHV0RGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG4gICAgICAgIG5ld0R1ZURhdGUuaW5uZXJUZXh0ID0gaW5wdXREdWVEYXRlLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnRpdGxlID0gaW5wdXRUaXRsZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmRlc2NyaXB0aW9uID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmR1ZURhdGU9IGlucHV0RHVlRGF0ZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBwcmlvcml0eSA9IGlucHV0UHJpb3JpdHkudmFsdWU7XG5cbiAgICAgICAgc2V0dGluZ1ByaW9yaXR5KCk7XG5cbiAgICAgICAgY29uc3QgbmV3UHJpb3JpdHkgPSBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIGlucHV0UHJpb3JpdHkudmFsdWUpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2F2ZWQgaXRlbSdzIHByaW9yaXR5IGlzOiBcIiArIGFjdGl2ZUFycmF5W2luZGV4XS5wcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICBjaGVja2JveC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSk7XG5cbn0iLCJpbXBvcnQgeyBjaGVja0NoZWNrYm94IH0gZnJvbSBcIi4vY2hlY2tDaGVja2JveC5qc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgZWRpdFNob3dJdGVtIH0gZnJvbSBcIi4vZWRpdFNob3dJdGVtLmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHkuanNcIjtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbmV4cG9ydCB7IGNvbnRlbnQgfTtcbmV4cG9ydCBsZXQgc2hvd0l0ZW07XG5cbmV4cG9ydCBsZXQgZGlzcGxheWVkSXRlbXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd2luZ0l0ZW1zKGFjdGl2ZUFycmF5KSB7XG5cbiAgICBmb3IgKGxldCBpID0gZGlzcGxheWVkSXRlbXM7IGkgPCBhY3RpdmVBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHNob3dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiKTtcbiAgICAgICAgY29uc3Qgc2hvd1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzaG93VGl0bGUuaW5uZXJIVE1MID1cIjxoMz5cIiArIGFjdGl2ZUFycmF5W2ldLnRpdGxlICsgXCI8L2gzPlwiO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZGVzY3JpcHRpb24gKyBcIjwvcD5cIjtcbiAgICAgICAgc2hvd0R1ZURhdGUuaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZHVlRGF0ZSArIFwiPC9wPlwiO1xuICAgIFxuICAgICAgICBwcmlvcml0eSA9IGFjdGl2ZUFycmF5W2ldLnByaW9yaXR5O1xuXG4gICAgICAgIHNldHRpbmdQcmlvcml0eShzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgcHJpb3JpdHkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0R1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5jbGFzc0xpc3QuYWRkKFwic2hvd0l0ZW1EaXZcIik7XG4gICAgICAgIHNob3dEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwic2hvd0Rlc2NyaXB0aW9uXCIpO1xuICAgIFxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHNob3dJdGVtKTtcbiAgICBcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NoZWNrYm94KTtcbiAgICBcbiAgICAgICAgc2hvd0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT0gc2hvd0l0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIpID09IFwiZmFsc2VcIiAmJiBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIikgPT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRTaG93SXRlbShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhY3RpdmVBcnJheVtpXS5kaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5ZWRJdGVtcysrO1xuICAgIFxuICAgIH1cbiAgICBcbn0iLCJpbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRvZG9JdGVtRnVuYyB9IGZyb20gIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSwgY3JlYXRlTmV3UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5cbmNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGlhbG9nXCIpWzBdO1xuZXhwb3J0IHsgZGlhbG9nIH07XG5jb25zdCBhZGRJdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRJdGVtXCIpO1xuY29uc3QgY2xvc2VEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRGlhbG9nXCIpO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJmb3JtXCIpWzBdO1xuXG5hZGRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgZGlhbG9nLnNob3dNb2RhbCgpO1xuICAgIGZvcm0ucmVzZXQoKTtcbn0pO1xuXG5jbG9zZURpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5jbG9zZSgpO1xufSk7XG5cbmV4cG9ydCBjbGFzcyBJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfTtcbn1cblxuY29uc3QgY3JlYXRlVG9kb0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZVRvZG9JdGVtXCIpO1xuXG5jcmVhdGVUb2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjcmVhdGVUb2RvSXRlbUZ1bmMoYWN0aXZlQXJyYXkpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdQcm9qZWN0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0c1wiKTtcblxubmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlTmV3UHJvamVjdCkiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiY2xlYXJDb250ZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImluYm94IiwiaW5ib3hBcnJheSIsImFsbFByb2plY3RzIiwicHVzaCIsImFjdGl2ZUFycmF5IiwicHJpb3JpdHkiLCJhbGxQcm9qZWN0QXJyYXlzIiwic2V0dGluZ1ByaW9yaXR5Iiwic2hvd0l0ZW0iLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNoZWNrQ2hlY2tib3giLCJldmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjaGVja2VkIiwiY29uc29sZSIsImxvZyIsInNldEF0dHJpYnV0ZSIsImVkaXRTaG93SXRlbSIsImlucHV0VGl0bGUiLCJjcmVhdGVFbGVtZW50IiwiaW5wdXREZXNjcmlwdGlvbiIsImlucHV0RHVlRGF0ZSIsImlucHV0UHJpb3JpdHkiLCJvcHRpb25Mb3ciLCJvcHRpb25Ob3JtYWwiLCJvcHRpb25IaWdoIiwiaW5uZXJUZXh0IiwiY2hpbGRyZW4iLCJjaGVja2JveCIsIml0ZW0iLCJvcmlnaW5hbFRpdGxlIiwib3JpZ2luYWxEZXNjcmlwdGlvbiIsIm9yaWdpbmFsRHVlRGF0ZSIsIm9yaWdpbmFsUHJpb3JpdHkiLCJkaXNhYmxlZCIsImFwcGVuZENoaWxkIiwic2VsZWN0ZWQiLCJ0eXBlIiwicmVtb3ZlQ2hpbGQiLCJzYXZlQnV0dG9uIiwiY2xvc2VCdXR0b24iLCJkZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiY29udGVudCIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwiZm9udFN0eWxlIiwiaW5kZXgiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJkaXNwbGF5ZWQiLCJkaXNwbGF5ZWRJdGVtcyIsImNvbnRhaW5zIiwic2hvd2luZ0l0ZW1zIiwic2hvd1RpdGxlIiwic2hvd0Rlc2NyaXB0aW9uIiwic2hvd0R1ZURhdGUiLCJlIiwiZGlhbG9nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhZGRJdGVtIiwiY2xvc2VEaWFsb2ciLCJzaG93TW9kYWwiLCJyZXNldCIsImNsb3NlIiwiSXRlbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImFsZXJ0IiwiY3JlYXRlVG9kb0l0ZW1GdW5jIiwibmV3UHJvamVjdEJ1dHRvbiIsInByb2plY3RzIiwicHJvamVjdCIsInByb2plY3ROYW1lSW5wdXQiLCJwcm9qZWN0U2F2ZSIsInByb2plY3RFeGl0IiwicGFkZGluZyIsIm1heEhlaWdodCIsIm1heFdpZHRoIiwiZm9udFNpemUiLCJjb2xvciIsIm1hcmdpblRvcCIsIm5hbWUiLCJBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=