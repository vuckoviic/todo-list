(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}function n(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),l=document.createElement("input"),o=document.createElement("select"),i=document.createElement("option"),d=document.createElement("option"),r=document.createElement("option");i.innerText="Low",d.innerText="Normal",r.innerText="High",i.setAttribute("value","low"),d.setAttribute("value","normal"),r.setAttribute("value","high");const c=e.children,m=c.item(0),g=c.item(1).innerText,h=c.item(2).innerText,y=c.item(3).innerText,v=e.getAttribute("data-priority");m.disabled=!0,t.value=g,n.innerText=h,l.value=y,o.innerText=v,o.appendChild(i),o.appendChild(d),o.appendChild(r),"low"==v?i.selected=!0:"normal"==v?d.selected=!0:"high"==v&&(r.selected=!0),l.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(o),e.removeChild(c.item(1)),e.removeChild(c.item(1)),e.removeChild(c.item(1));const b=document.createElement("button"),C=document.createElement("button"),E=document.createElement("button");b.classList.add("editButton","saveEditButton"),C.classList.add("editButton","closeEditButton"),E.classList.add("editButton","deleteEditButton"),b.innerText="Save",C.innerText="Close",E.innerText="Delete",e.appendChild(E),e.appendChild(C),e.appendChild(b),E.addEventListener("click",(()=>{u.removeChild(e);const t=parseInt(e.getAttribute("data-index"));a.pop(a[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),C.addEventListener("click",(()=>{const i=document.createElement("h3"),d=document.createElement("p"),a=document.createElement("p");e.setAttribute("data-priority",v),i.innerText=g,d.innerText=h,d.style.fontStyle="italic",a.innerText=y,e.appendChild(i),e.appendChild(d),e.appendChild(a),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(o),e.removeChild(b),e.removeChild(C),e.removeChild(E),m.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const i=document.createElement("h3"),d=document.createElement("p"),r=document.createElement("p");i.innerText=t.value,d.innerText=n.value,d.style.fontStyle="italic",r.innerText=l.value;const c=parseInt(e.getAttribute("data-index"));a[c].title=t.value,a[c].description=n.value,a[c].dueDate=l.value,a[c].priority=o.value,s=o.value,p(e),e.setAttribute("data-priority",o.value),console.log(a[c]),console.log("Saved item's priority is: "+a[c].priority),e.appendChild(i),e.appendChild(d),e.appendChild(r),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(o),e.removeChild(b),e.removeChild(C),e.removeChild(E),m.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}function l(){console.log("Storage has been updated");let e=JSON.stringify(i),t=JSON.stringify(d),n=JSON.stringify(r);console.log(e),console.log(t),console.log(n),localStorage.setItem("inboxArray",e),localStorage.setItem("allProjects",t),localStorage.setItem("allProjectArrays",n)}e.d({},{q7:()=>k,B5:()=>C,r3:()=>b,OS:()=>L,ar:()=>x,dt:()=>T});const o=document.getElementById("inbox");let i=[],d=[];d.push(o);let a,r=[];r.push(i),a=i;const c=document.getElementById("content");let s;function p(e){e.style.backgroundColor="low"===s?"lightblue":"normal"==s?"rgb(51, 126, 245)":"red"}function m(e){if(s=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked){e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true");let t=e.target.parentElement.getAttribute("data-index");a[t].checked=!0,console.log(a[t].checked)}else{"low"===s?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==s?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"));let t=e.target.parentElement.getAttribute("data-index");a[t].checked=!1,console.log(a[t].checked)}}o.classList.add("active-project"),o.addEventListener("click",(()=>{t(),C.disabled=!0,C.style.backgroundColor="grey";for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,y=0;o.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(a=r[e],l());for(let e=0;e<i.length;e++){for(let t=0;t<i[e].length;t++)i[e][t].displayed=!1,console.log(i[e][t]);console.log("displayedItems: "+y),y=0,v(i[e])}c.appendChild(L),console.log(c.children.length);for(const e of c.children)e.firstChild.disabled=!0;c.firstChild.firstChild.disabled=!0}));const u=document.getElementById("content");let g;const h=document.getElementById("inbox");let y=0;function v(e){for(let t=y;t<e.length;t++){g=document.createElement("div");const l=document.createElement("input");l.type="checkbox",l.classList.add("checkbox");const o=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");o.innerHTML="<h3>"+e[t].title+"</h3>",i.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",s=e[t].priority,p(g),g.setAttribute("data-priority",s),g.setAttribute("data-index",t),g.setAttribute("data-checked","false"),g.setAttribute("data-editing","false"),1==e[t].checked?(l.checked=!0,g.setAttribute("data-checked","true"),g.style.backgroundColor="green"):(l.checked=!1,g.setAttribute("data-checked","false")),g.appendChild(l),g.appendChild(o),g.appendChild(i),g.appendChild(d),g.classList.add("showItemDiv"),i.classList.add("showDescription"),u.appendChild(g),l.addEventListener("click",m),g.addEventListener("click",(e=>{e.target==g&&"false"==g.getAttribute("data-checked")&&"false"==g.getAttribute("data-editing")&&0==h.classList.contains("active-project")&&n(e.target)})),e[t].displayed=!0,y++}}const b=document.getElementsByTagName("dialog")[0],C=document.getElementById("addItem");C.disabled=!0,1==C.disabled?C.style.backgroundColor="grey":C.style.backgroundColor="navy";const E=document.getElementById("closeDialog"),f=document.getElementsByTagName("form")[0];C.addEventListener("click",(()=>{b.showModal(),f.reset()})),E.addEventListener("click",(()=>{b.close()}));class k{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,o=document.getElementById("dueDate").value;if(s=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===o)alert("Please Choose Your Due Date.");else{const l=new k(t,n,o,s);console.log(l),console.log(e),e.push(l),v(e),b.close()}l()}(a)}));const x=document.getElementById("newProject"),T=document.getElementById("projects");x.addEventListener("click",(function(){const e=document.createElement("div"),n=document.createElement("button"),o=document.createElement("input"),s=document.createElement("button"),p=document.createElement("button");s.innerText="Save",p.innerText="Exit",n.style.padding="9px",s.style.backgroundColor="white",s.style.maxHeight="15px",s.style.maxWidth="15px",s.style.fontSize="1em",s.style.color="navy",s.style.marginTop="5px",p.style.backgroundColor="white",p.style.maxHeight="15px",p.style.maxWidth="15px",p.style.fontSize="1em",p.style.color="navy",p.style.marginTop="5px",n.appendChild(o),n.appendChild(p),n.appendChild(s),e.appendChild(n),s.addEventListener("click",(()=>{let s=o.value;if(s.length<1)alert("Please Insert Name For Your Project.");else{n.innerText=s,s=new Array,r.push(s),i.push(s),n.addEventListener("click",(e=>{t(),C.disabled=!1,C.style.backgroundColor="navy";for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,y=0;n.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(a=r[e]);v(a)}));const o=document.createElement("button");o.innerText="â†»",o.addEventListener("click",(()=>{e.innerHTML="",e.appendChild(n);for(let t=0;t<s.length;t++){const n=document.createElement("p");n.innerText=`${s[t].title} | ${s[t].dueDate}`,1==c.firstChild.firstChild.checked?n.style.backgroundColor="green":"low"==s[t].priority?n.style.backgroundColor="lightblue":"normal"==s[t].priority?n.style.backgroundColor="rgb(51, 126, 245)":n.style.backgroundColor="red",n.style.padding="2px",n.style.marginTop="3px",e.appendChild(n)}})),o.setAttribute("id","refresh-project"),n.appendChild(o),n.classList.add("project"),l()}})),p.addEventListener("click",(()=>{e.removeChild(n),T.removeChild(e)})),T.removeChild(x),T.appendChild(e),T.appendChild(x),d.push(n)}));const I=document.getElementById("content"),L=document.createElement("p");L.innerHTML="The inbox section is for <b>review only</b>. You can't create, edit or check todo items here. You need to create separate project for that.",L.style.fontStyle="italic",L.style.position="absolute",L.style.bottom="5px",I.style.position="relative",I.appendChild(L),null===localStorage.getItem("inboxArray")?(console.log("There is no such this as 'inboxArray' inside localStorage. I will populate it now..."),l()):function(){console.log("Reading values...");const e=localStorage.getItem("inboxArray"),t=localStorage.getItem("allProjectArrays"),n=localStorage.getItem("allProjects");e.length>0&&t.length>1&&n>1&&(i=JSON.parse(e),r=JSON.parse(t),d=JSON.parse(n)),console.log(i),console.log(r),console.log(d),console.log("~~~~~~~~~~~~~~~~~~~~~~~");for(let e=0;e<i.length;e++){for(let t=0;t<i[e].length;t++)i[e][t].displayed=!1,console.log(i[e][t]);console.log("displayedItems: "+y),y=0,showingItems(i[e])}}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM3QnJFLFFBQVFDLElBQUlnRCxFQUFXaUIsR0FBR00sSUFHOUJ4RSxRQUFRQyxJQUFJLG1CQUFxQnFFLEdBQ2pDQSxFQUFpQixFQUNqQjZDLGFBQWFsRSxFQUFXaUIsR0FDNUIsQ0FDSixDTWtDSWtELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2xlYXJDb250ZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9lZGl0U2hvd0l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2xvY2FsU3RvcmFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZVRvZG9JdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zZXR0aW5nUHJpb3JpdHkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NoZWNrQ2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Nob3dpbmdJdGVtcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgZnVuY3Rpb24gY2xlYXJDb250ZW50KCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xufSIsImltcG9ydCB7IGFjdGl2ZUFycmF5IH0gZnJvbSBcIi4vcHJvamVjdHMuanNcIjtcbmltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IGNvbnRlbnQgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdFNob3dJdGVtKHNob3dJdGVtKSB7XG5cbiAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJ0cnVlXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIGJlaW5nIGVkaXRlZCByaWdodCBub3dcIik7XG5cbiAgICBjb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgY29uc3QgaW5wdXREdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuXG4gICAgY29uc3Qgb3B0aW9uTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBjb25zdCBvcHRpb25Ob3JtYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbkhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuXG4gICAgb3B0aW9uTG93LmlubmVyVGV4dCA9IFwiTG93XCI7XG4gICAgb3B0aW9uTm9ybWFsLmlubmVyVGV4dCA9IFwiTm9ybWFsXCI7XG4gICAgb3B0aW9uSGlnaC5pbm5lclRleHQgPSBcIkhpZ2hcIjtcblxuICAgIG9wdGlvbkxvdy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImxvd1wiKTsgXG4gICAgb3B0aW9uTm9ybWFsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibm9ybWFsXCIpO1xuICAgIG9wdGlvbkhpZ2guc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJoaWdoXCIpO1xuXG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IHNob3dJdGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gY2hpbGRyZW4uaXRlbSgwKTtcbiAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gY2hpbGRyZW4uaXRlbSgxKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEZXNjcmlwdGlvbiA9IGNoaWxkcmVuLml0ZW0oMikuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsRHVlRGF0ZSA9IGNoaWxkcmVuLml0ZW0oMykuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsUHJpb3JpdHkgPSBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgY2hlY2tib3guZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgaW5wdXRUaXRsZS52YWx1ZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgaW5wdXREZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgIGlucHV0RHVlRGF0ZS52YWx1ZSA9IG9yaWdpbmFsRHVlRGF0ZTtcbiAgICBpbnB1dFByaW9yaXR5LmlubmVyVGV4dCA9IG9yaWdpbmFsUHJpb3JpdHk7XG5cbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbkxvdyk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25Ob3JtYWwpO1xuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uSGlnaCk7XG4gICAgXG4gICAgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJsb3dcIikge1xuICAgICAgICBvcHRpb25Mb3cuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgb3B0aW9uTm9ybWFsLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImhpZ2hcIikge1xuICAgICAgICBvcHRpb25IaWdoLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbnB1dER1ZURhdGUudHlwZSA9IFwiZGF0ZVwiO1xuICAgIFxuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0VGl0bGUpO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cblxuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuXG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICBzYXZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0QnV0dG9uXCIsIFwic2F2ZUVkaXRCdXR0b25cIik7XG4gICAgY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJjbG9zZUVkaXRCdXR0b25cIik7XG4gICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0QnV0dG9uXCIsIFwiZGVsZXRlRWRpdEJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uaW5uZXJUZXh0ID0gXCJTYXZlXCI7XG4gICAgY2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJDbG9zZVwiO1xuICAgIGRlbGV0ZUJ1dHRvbi5pbm5lclRleHQgPSBcIkRlbGV0ZVwiO1xuXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbik7XG5cbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChzaG93SXRlbSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSk7XG4gICAgICAgIGFjdGl2ZUFycmF5LnBvcChhY3RpdmVBcnJheVtpbmRleF0pO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3UHJpb3JpdHkgPSBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIG9yaWdpbmFsUHJpb3JpdHkpO1xuXG4gICAgICAgIG5ld1RpdGxlLmlubmVyVGV4dCA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG4gICAgICAgIG5ld0R1ZURhdGUuaW5uZXJUZXh0ID0gb3JpZ2luYWxEdWVEYXRlO1xuXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEdWVEYXRlKTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFRpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgY2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pXG5cbiAgICBzYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgICAgICAgbmV3VGl0bGUuaW5uZXJUZXh0ID0gaW5wdXRUaXRsZS52YWx1ZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgbmV3RHVlRGF0ZS5pbm5lclRleHQgPSBpbnB1dER1ZURhdGUudmFsdWU7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnRpdGxlID0gaW5wdXRUaXRsZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmRlc2NyaXB0aW9uID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmR1ZURhdGU9IGlucHV0RHVlRGF0ZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBwcmlvcml0eSA9IGlucHV0UHJpb3JpdHkudmFsdWU7XG5cbiAgICAgICAgc2V0dGluZ1ByaW9yaXR5KHNob3dJdGVtKTtcblxuICAgICAgICBjb25zdCBuZXdQcmlvcml0eSA9IHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgaW5wdXRQcmlvcml0eS52YWx1ZSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXlbaW5kZXhdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBpdGVtJ3MgcHJpb3JpdHkgaXM6IFwiICsgYWN0aXZlQXJyYXlbaW5kZXhdLnByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RHVlRGF0ZSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChzYXZlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgIGNoZWNrYm94LmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KTtcblxufSIsImltcG9ydCB7IGFsbFByb2plY3RBcnJheXMsIGFsbFByb2plY3RzLCBpbmJveEFycmF5IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcbmltcG9ydCB7IGRpc3BsYXllZEl0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZXMoKSB7XG5cbiAgICBjb25zb2xlLmxvZyhcIlJlYWRpbmcgdmFsdWVzLi4uXCIpO1xuXG4gICAgY29uc3Qgc2F2ZWRJbmJveEFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpbmJveEFycmF5XCIpO1xuICAgIGNvbnN0IHNhdmVkQWxsUHJvamVjdEFycmF5cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiYWxsUHJvamVjdEFycmF5c1wiKTtcbiAgICBjb25zdCBzYXZlZEFsbFByb2plY3RzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJhbGxQcm9qZWN0c1wiKTtcblxuICAgIGlmIChzYXZlZEluYm94QXJyYXkubGVuZ3RoID4gMCAmJiBzYXZlZEFsbFByb2plY3RBcnJheXMubGVuZ3RoID4gMSAmJiBzYXZlZEFsbFByb2plY3RzID4gMSkge1xuICAgICAgICBpbmJveEFycmF5ID0gSlNPTi5wYXJzZShzYXZlZEluYm94QXJyYXkpO1xuICAgICAgICBhbGxQcm9qZWN0QXJyYXlzID0gSlNPTi5wYXJzZShzYXZlZEFsbFByb2plY3RBcnJheXMpO1xuICAgICAgICBhbGxQcm9qZWN0cyA9IEpTT04ucGFyc2Uoc2F2ZWRBbGxQcm9qZWN0cyk7ICAgIFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXkpO1xuICAgIGNvbnNvbGUubG9nKGFsbFByb2plY3RBcnJheXMpO1xuICAgIGNvbnNvbGUubG9nKGFsbFByb2plY3RzKTtcbiAgICBjb25zb2xlLmxvZyhcIn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+XCIpO1xuXG4gICAgLy8gaGVyZSBnb2VzIGxvZ2ljIHdoaWNoIHR1cm5zIHRoaXMgaW5mb3JtYXRpb24gaW50byByZWFsIERPTSBlbGVtZW50c1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmJveEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5ib3hBcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaW5ib3hBcnJheVtpXVtqXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXlbaV1bal0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5ZWRJdGVtczogXCIgKyBkaXNwbGF5ZWRJdGVtcyk7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKGluYm94QXJyYXlbaV0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVsYXRlU3RvcmFnZSgpIHtcblxuICAgIGNvbnNvbGUubG9nKFwiU3RvcmFnZSBoYXMgYmVlbiB1cGRhdGVkXCIpO1xuXG4gICAgbGV0IHN0cmluZ2lmaWVkSW5ib3hBcnJheSA9IEpTT04uc3RyaW5naWZ5KGluYm94QXJyYXkpO1xuICAgIGxldCBzdHJpbmdpZmllZEFsbFByb2plY3RzID0gSlNPTi5zdHJpbmdpZnkoYWxsUHJvamVjdHMpO1xuICAgIGxldCBzdHJpbmdpZmllZEFsbFByb2plY3RBcnJheXMgPSBKU09OLnN0cmluZ2lmeShhbGxQcm9qZWN0QXJyYXlzKTtcblxuICAgIGNvbnNvbGUubG9nKHN0cmluZ2lmaWVkSW5ib3hBcnJheSk7XG4gICAgY29uc29sZS5sb2coc3RyaW5naWZpZWRBbGxQcm9qZWN0cyk7XG4gICAgY29uc29sZS5sb2coc3RyaW5naWZpZWRBbGxQcm9qZWN0QXJyYXlzKTtcblxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiaW5ib3hBcnJheVwiLCBzdHJpbmdpZmllZEluYm94QXJyYXkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiYWxsUHJvamVjdHNcIiwgc3RyaW5naWZpZWRBbGxQcm9qZWN0cyk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhbGxQcm9qZWN0QXJyYXlzXCIsIHN0cmluZ2lmaWVkQWxsUHJvamVjdEFycmF5cyk7XG59XG4iLCJpbXBvcnQgeyBwcm9qZWN0cywgbmV3UHJvamVjdEJ1dHRvbiwgYWRkSXRlbSwgaW5mb3JtYXRpb25hbFAgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBkaXNwbGF5ZWRJdGVtcywgc2hvd2luZ0l0ZW1zLCBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuaW1wb3J0IHsgaW5kZXggfSBmcm9tIFwiLi9lZGl0U2hvd0l0ZW0uanNcIjtcbmltcG9ydCB7IGdldFZhbHVlcywgcG9wdWxhdGVTdG9yYWdlIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlLmpzXCI7XG5cbmNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmJveFwiKTtcbmV4cG9ydCBsZXQgaW5ib3hBcnJheSA9IFtdO1xuXG5leHBvcnQgbGV0IGFsbFByb2plY3RzID0gW107XG5hbGxQcm9qZWN0cy5wdXNoKGluYm94KTtcblxuZXhwb3J0IGxldCBhbGxQcm9qZWN0QXJyYXlzID0gW107XG5hbGxQcm9qZWN0QXJyYXlzLnB1c2goaW5ib3hBcnJheSk7XG5leHBvcnQgbGV0IGFjdGl2ZUFycmF5O1xuXG5hY3RpdmVBcnJheSA9IGluYm94QXJyYXk7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5cbmluYm94LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcbmluYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKT0+IHtcbiAgICAgICAgICAgICAgICBcbiAgICBjbGVhckNvbnRlbnQoKTtcblxuICAgIGFkZEl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmV5XCI7XG4gICAgXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXByb2plY3RcIik7XG4gICAgICAgIGFsbFByb2plY3RzW2ldLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgICAgICBkaXNwbGF5ZWRJdGVtcyA9IDA7XG4gICAgfVxuXG4gICAgaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYWxsUHJvamVjdHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLXByb2plY3RcIikpIHtcbiAgICAgICAgICAgIGFjdGl2ZUFycmF5ID0gYWxsUHJvamVjdEFycmF5c1tpXTtcbiAgICAgICAgICAgIHBvcHVsYXRlU3RvcmFnZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmJveEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5ib3hBcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaW5ib3hBcnJheVtpXVtqXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXlbaV1bal0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5ZWRJdGVtczogXCIgKyBkaXNwbGF5ZWRJdGVtcyk7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKGluYm94QXJyYXlbaV0pO1xuICAgIH1cbiAgICBcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGluZm9ybWF0aW9uYWxQKTtcblxuICAgIGNvbnNvbGUubG9nKGNvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY29udGVudC5jaGlsZHJlbikge1xuICAgICAgICBjaGlsZC5maXJzdENoaWxkLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb250ZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5kaXNhYmxlZCA9IHRydWU7IC8vIE5FRUQgVE8gRElTQUJMRSBFVkVSWSBJVEVNLCBOT1QgT05MWSBGSVJTVCBPTkVcblxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KCkge1xuXG4gICAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBwcm9qZWN0U2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdEV4aXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIFxuICAgIHByb2plY3RTYXZlLmlubmVyVGV4dCA9IFwiU2F2ZVwiO1xuICAgIHByb2plY3RFeGl0LmlubmVyVGV4dCA9IFwiRXhpdFwiO1xuXG4gICAgcHJvamVjdC5zdHlsZS5wYWRkaW5nID0gXCI5cHhcIjtcblxuICAgIHByb2plY3RTYXZlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZUlucHV0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RFeGl0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RTYXZlKTtcblxuICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdCk7XG4gICAgXG4gICAgcHJvamVjdFNhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgXG4gICAgICAgIGxldCBuYW1lID0gcHJvamVjdE5hbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBOYW1lIEZvciBZb3VyIFByb2plY3QuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0LmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICBhbGxQcm9qZWN0QXJyYXlzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICBpbmJveEFycmF5LnB1c2gobmFtZSk7XG4gICAgXG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRkSXRlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJuYXZ5XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVmcmVzaFByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgcmVmcmVzaFByb2plY3QuaW5uZXJUZXh0ID0gXCLihrtcIjtcbiAgICAgICAgICAgIHJlZnJlc2hQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3REaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3QpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5pbm5lclRleHQgPSBgJHtuYW1lW2ldLnRpdGxlfSB8ICR7bmFtZVtpXS5kdWVEYXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5maXJzdENoaWxkLmZpcnN0Q2hpbGQuY2hlY2tlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lW2ldLnByaW9yaXR5ID09IFwibG93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmFtZVtpXS5wcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJdGVtLnN0eWxlLnBhZGRpbmcgPSBcIjJweFwiO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjNweFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZWZyZXNoUHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJlZnJlc2gtcHJvamVjdFwiKTtcblxuICAgICAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChyZWZyZXNoUHJvamVjdCk7XG5cbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcInByb2plY3RcIik7XG5cbiAgICAgICAgICAgIHBvcHVsYXRlU3RvcmFnZSgpO1xuXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcHJvamVjdEV4aXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdERpdi5yZW1vdmVDaGlsZChwcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQocHJvamVjdERpdik7XG4gICAgfSlcblxuICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuXG4gICAgYWxsUHJvamVjdHMucHVzaChwcm9qZWN0KTtcblxufSIsImltcG9ydCB7IEl0ZW0sIGRpYWxvZyB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSwgc2V0VmFsdWVzIH0gZnJvbSBcIi4vcHJvamVjdHMuanNcIjtcbmltcG9ydCB7IHNob3dpbmdJdGVtcyB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuaW1wb3J0IHsgcG9wdWxhdGVTdG9yYWdlIH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlLmpzXCI7XG5cbmV4cG9ydCBsZXQgcHJpb3JpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUb2RvSXRlbUZ1bmMgKGFjdGl2ZUFycmF5KSB7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlXCIpLnZhbHVlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXNjcmlwdGlvblwiKS52YWx1ZTtcbiAgICBjb25zdCBkdWVEYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkdWVEYXRlXCIpLnZhbHVlO1xuICAgIHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcmlvcml0eVwiKS52YWx1ZTtcblxuICAgIGlmICh0aXRsZS5sZW5ndGggPCAxKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBhIFRpdGxlLlwiKVxuICAgIH1cblxuICAgIGVsc2UgaWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgRGVzY3JpcHRpb24uXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZHVlRGF0ZSA9PT0gXCJcIikge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBDaG9vc2UgWW91ciBEdWUgRGF0ZS5cIilcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpO1xuICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXkpO1xuICAgICAgICBhY3RpdmVBcnJheS5wdXNoKGl0ZW0pO1xuICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBwb3B1bGF0ZVN0b3JhZ2UoKTtcblxufSIsImltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IHNob3dJdGVtLCBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdQcmlvcml0eSAoc2hvd0l0ZW0pIHtcbiAgICBcbiAgICBpZiAocHJpb3JpdHkgPT09IFwibG93XCIpIHtcbiAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgfVxuICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0NoZWNrYm94KGV2ZW50KSB7XG4gICAgcHJpb3JpdHkgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkID09PSB0cnVlKSB7XG4gICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JlZW5cIjtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgY2hlY2tlZFwiKTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgbGV0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheVtpbmRleF0uY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJsaWdodGJsdWVcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpO1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsc2UgaWYgKHByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IGlzIG5vdCBjaGVja2VkXCIpXG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbmRleCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgY2hlY2tDaGVja2JveCB9IGZyb20gXCIuL2NoZWNrQ2hlY2tib3guanNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGVkaXRTaG93SXRlbSB9IGZyb20gXCIuL2VkaXRTaG93SXRlbS5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXkgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5leHBvcnQgeyBjb250ZW50IH07XG5leHBvcnQgbGV0IHNob3dJdGVtO1xuXG5jb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5ib3hcIik7XG5cbmV4cG9ydCBsZXQgZGlzcGxheWVkSXRlbXMgPSAwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd2luZ0l0ZW1zKGFjdGl2ZUFycmF5KSB7XG5cbiAgICBmb3IgKGxldCBpID0gZGlzcGxheWVkSXRlbXM7IGkgPCBhY3RpdmVBcnJheS5sZW5ndGg7IGkrKykge1xuXG4gICAgICAgIHNob3dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiKTtcbiAgICAgICAgY29uc3Qgc2hvd1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3Qgc2hvd0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBzaG93VGl0bGUuaW5uZXJIVE1MID1cIjxoMz5cIiArIGFjdGl2ZUFycmF5W2ldLnRpdGxlICsgXCI8L2gzPlwiO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZGVzY3JpcHRpb24gKyBcIjwvcD5cIjtcbiAgICAgICAgc2hvd0R1ZURhdGUuaW5uZXJIVE1MID1cIjxwPlwiICsgYWN0aXZlQXJyYXlbaV0uZHVlRGF0ZSArIFwiPC9wPlwiO1xuICAgIFxuICAgICAgICBwcmlvcml0eSA9IGFjdGl2ZUFycmF5W2ldLnByaW9yaXR5O1xuXG4gICAgICAgIHNldHRpbmdQcmlvcml0eShzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgcHJpb3JpdHkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIGkpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUFycmF5W2ldLmNoZWNrZWQgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgc2hvd0l0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0uY2xhc3NMaXN0LmFkZChcInNob3dJdGVtRGl2XCIpO1xuICAgICAgICBzaG93RGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInNob3dEZXNjcmlwdGlvblwiKTtcbiAgICBcbiAgICAgICAgY29udGVudC5hcHBlbmRDaGlsZChzaG93SXRlbSk7XG4gICAgXG4gICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tDaGVja2JveCk7XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IHNob3dJdGVtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiKSA9PSBcImZhbHNlXCIgJiYgc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIpID09IFwiZmFsc2VcIiAmJiBpbmJveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0U2hvd0l0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgYWN0aXZlQXJyYXlbaV0uZGlzcGxheWVkID0gdHJ1ZTtcbiAgICAgICAgZGlzcGxheWVkSXRlbXMrKztcbiAgICBcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2RvSXRlbUZ1bmMgfSBmcm9tICBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcbmltcG9ydCB7IGNsZWFyQ29udGVudCB9IGZyb20gXCIuL2NsZWFyQ29udGVudC5qc1wiO1xuaW1wb3J0IHsgYWN0aXZlQXJyYXksIGNyZWF0ZU5ld1Byb2plY3QgfSBmcm9tIFwiLi9wcm9qZWN0cy5qc1wiO1xuaW1wb3J0IHsgcG9wdWxhdGVTdG9yYWdlLCBnZXRWYWx1ZXMgfSBmcm9tIFwiLi9sb2NhbFN0b3JhZ2UuanNcIjtcblxuY29uc3QgZGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaWFsb2dcIilbMF07XG5leHBvcnQgeyBkaWFsb2cgfTtcbmV4cG9ydCBjb25zdCBhZGRJdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRJdGVtXCIpO1xuYWRkSXRlbS5kaXNhYmxlZCA9IHRydWU7XG5cbmlmIChhZGRJdGVtLmRpc2FibGVkID09IHRydWUpIHtcbiAgICBhZGRJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiZ3JleVwiO1xufVxuXG5lbHNlIHtcbiAgICBhZGRJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibmF2eVwiO1xufVxuXG5jb25zdCBjbG9zZURpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VEaWFsb2dcIik7XG5cbmNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImZvcm1cIilbMF07XG5cbmFkZEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuc2hvd01vZGFsKCk7XG4gICAgZm9ybS5yZXNldCgpO1xufSk7XG5cbmNsb3NlRGlhbG9nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgZGlhbG9nLmNsb3NlKCk7XG59KTtcblxuZXhwb3J0IGNsYXNzIEl0ZW0ge1xuICAgIGNvbnN0cnVjdG9yKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHkpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGU7XG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcbiAgICB9O1xufVxuXG5jb25zdCBjcmVhdGVUb2RvSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlVG9kb0l0ZW1cIik7XG5cbmNyZWF0ZVRvZG9JdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNyZWF0ZVRvZG9JdGVtRnVuYyhhY3RpdmVBcnJheSk7XG59KTtcblxuZXhwb3J0IGNvbnN0IG5ld1Byb2plY3RCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5ld1Byb2plY3RcIik7XG5leHBvcnQgY29uc3QgcHJvamVjdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3RzXCIpO1xuXG5uZXdQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVOZXdQcm9qZWN0KTtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcblxuZXhwb3J0IGNvbnN0IGluZm9ybWF0aW9uYWxQID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5pbmZvcm1hdGlvbmFsUC5pbm5lckhUTUwgPSBcIlRoZSBpbmJveCBzZWN0aW9uIGlzIGZvciA8Yj5yZXZpZXcgb25seTwvYj4uIFlvdSBjYW4ndCBjcmVhdGUsIGVkaXQgb3IgY2hlY2sgdG9kbyBpdGVtcyBoZXJlLiBZb3UgbmVlZCB0byBjcmVhdGUgc2VwYXJhdGUgcHJvamVjdCBmb3IgdGhhdC5cIjtcbmluZm9ybWF0aW9uYWxQLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG5pbmZvcm1hdGlvbmFsUC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbmluZm9ybWF0aW9uYWxQLnN0eWxlLmJvdHRvbSA9IFwiNXB4XCI7XG5jb250ZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuY29udGVudC5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbmFsUCk7XG5cbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImluYm94QXJyYXlcIikgPT09IG51bGwpIHtcbiAgICBjb25zb2xlLmxvZyhcIlRoZXJlIGlzIG5vIHN1Y2ggdGhpcyBhcyAnaW5ib3hBcnJheScgaW5zaWRlIGxvY2FsU3RvcmFnZS4gSSB3aWxsIHBvcHVsYXRlIGl0IG5vdy4uLlwiKVxuICAgIHBvcHVsYXRlU3RvcmFnZSgpO1xufVxuXG5lbHNlIHtcbiAgICBnZXRWYWx1ZXMoKTtcbn0iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjbGVhckNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5uZXJIVE1MIiwiZWRpdFNob3dJdGVtIiwic2hvd0l0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJjb25zb2xlIiwibG9nIiwiaW5wdXRUaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJpbnB1dERlc2NyaXB0aW9uIiwiaW5wdXREdWVEYXRlIiwiaW5wdXRQcmlvcml0eSIsIm9wdGlvbkxvdyIsIm9wdGlvbk5vcm1hbCIsIm9wdGlvbkhpZ2giLCJpbm5lclRleHQiLCJjaGlsZHJlbiIsImNoZWNrYm94IiwiaXRlbSIsIm9yaWdpbmFsVGl0bGUiLCJvcmlnaW5hbERlc2NyaXB0aW9uIiwib3JpZ2luYWxEdWVEYXRlIiwib3JpZ2luYWxQcmlvcml0eSIsImdldEF0dHJpYnV0ZSIsImRpc2FibGVkIiwidmFsdWUiLCJhcHBlbmRDaGlsZCIsInNlbGVjdGVkIiwidHlwZSIsInJlbW92ZUNoaWxkIiwic2F2ZUJ1dHRvbiIsImNsb3NlQnV0dG9uIiwiZGVsZXRlQnV0dG9uIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluZGV4IiwicGFyc2VJbnQiLCJhY3RpdmVBcnJheSIsInBvcCIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwic3R5bGUiLCJmb250U3R5bGUiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInByaW9yaXR5Iiwic2V0dGluZ1ByaW9yaXR5IiwicG9wdWxhdGVTdG9yYWdlIiwic3RyaW5naWZpZWRJbmJveEFycmF5IiwiSlNPTiIsInN0cmluZ2lmeSIsImluYm94QXJyYXkiLCJzdHJpbmdpZmllZEFsbFByb2plY3RzIiwiYWxsUHJvamVjdHMiLCJzdHJpbmdpZmllZEFsbFByb2plY3RBcnJheXMiLCJhbGxQcm9qZWN0QXJyYXlzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImluYm94IiwicHVzaCIsImNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjaGVja0NoZWNrYm94IiwiZXZlbnQiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiY2hlY2tlZCIsImFkZEl0ZW0iLCJpIiwibGVuZ3RoIiwicmVtb3ZlIiwiZGlzcGxheWVkIiwiZGlzcGxheWVkSXRlbXMiLCJjb250YWlucyIsImoiLCJpbmZvcm1hdGlvbmFsUCIsImNoaWxkIiwiZmlyc3RDaGlsZCIsInNob3dUaXRsZSIsInNob3dEZXNjcmlwdGlvbiIsInNob3dEdWVEYXRlIiwiZSIsImRpYWxvZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xvc2VEaWFsb2ciLCJzaG93TW9kYWwiLCJyZXNldCIsImNsb3NlIiwiSXRlbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImFsZXJ0IiwiY3JlYXRlVG9kb0l0ZW1GdW5jIiwibmV3UHJvamVjdEJ1dHRvbiIsInByb2plY3RzIiwicHJvamVjdERpdiIsInByb2plY3QiLCJwcm9qZWN0TmFtZUlucHV0IiwicHJvamVjdFNhdmUiLCJwcm9qZWN0RXhpdCIsInBhZGRpbmciLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsImZvbnRTaXplIiwiY29sb3IiLCJtYXJnaW5Ub3AiLCJuYW1lIiwiQXJyYXkiLCJyZWZyZXNoUHJvamVjdCIsInByb2plY3RJdGVtIiwicG9zaXRpb24iLCJib3R0b20iLCJnZXRJdGVtIiwic2F2ZWRJbmJveEFycmF5Iiwic2F2ZWRBbGxQcm9qZWN0QXJyYXlzIiwic2F2ZWRBbGxQcm9qZWN0cyIsInBhcnNlIiwic2hvd2luZ0l0ZW1zIiwiZ2V0VmFsdWVzIl0sInNvdXJjZVJvb3QiOiIifQ==