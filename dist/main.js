(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}function n(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),l=document.createElement("input"),i=document.createElement("select"),d=document.createElement("option"),a=document.createElement("option"),r=document.createElement("option");d.innerText="Low",a.innerText="Normal",r.innerText="High",d.setAttribute("value","low"),a.setAttribute("value","normal"),r.setAttribute("value","high");const p=e.children,u=p.item(0),h=p.item(1).innerText,g=p.item(2).innerText,v=p.item(3).innerText,y=e.getAttribute("data-priority");u.disabled=!0,t.value=h,n.innerText=g,l.value=v,i.innerText=y,i.appendChild(d),i.appendChild(a),i.appendChild(r),"low"==y?d.selected=!0:"normal"==y?a.selected=!0:"high"==y&&(r.selected=!0),l.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(i),e.removeChild(p.item(1)),e.removeChild(p.item(1)),e.removeChild(p.item(1));const b=document.createElement("button"),C=document.createElement("button"),E=document.createElement("button");b.classList.add("editButton","saveEditButton"),C.classList.add("editButton","closeEditButton"),E.classList.add("editButton","deleteEditButton"),b.innerText="Save",C.innerText="Close",E.innerText="Delete",e.appendChild(E),e.appendChild(C),e.appendChild(b),E.addEventListener("click",(()=>{m.removeChild(e);const t=parseInt(e.getAttribute("data-index"));o.pop(o[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),C.addEventListener("click",(()=>{const d=document.createElement("h3"),o=document.createElement("p"),a=document.createElement("p");e.setAttribute("data-priority",y),d.innerText=h,o.innerText=g,o.style.fontStyle="italic",a.innerText=v,e.appendChild(d),e.appendChild(o),e.appendChild(a),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(C),e.removeChild(E),u.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const d=document.createElement("h3"),a=document.createElement("p"),r=document.createElement("p");d.innerText=t.value,a.innerText=n.value,a.style.fontStyle="italic",r.innerText=l.value;const p=parseInt(e.getAttribute("data-index"));o[p].title=t.value,o[p].description=n.value,o[p].dueDate=l.value,o[p].priority=i.value,c=i.value,s(e),e.setAttribute("data-priority",i.value),console.log(o[p]),console.log("Saved item's priority is: "+o[p].priority),e.appendChild(d),e.appendChild(a),e.appendChild(r),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(C),e.removeChild(E),u.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}e.d({},{q7:()=>k,B5:()=>b,r3:()=>y,OS:()=>L,ar:()=>f,dt:()=>x});const l=document.getElementById("inbox");let i=[],d=[];d.push(l);let o,a=[];a.push(i),o=i;const r=document.getElementById("content");let c;function s(e){e.style.backgroundColor="low"===c?"lightblue":"normal"==c?"rgb(51, 126, 245)":"red"}function p(e){if(c=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked){e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true");let t=e.target.parentElement.getAttribute("data-index");o[t].checked=!0,console.log(o[t].checked)}else{"low"===c?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==c?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"));let t=e.target.parentElement.getAttribute("data-index");o[t].checked=!1,console.log(o[t].checked)}}l.classList.add("active-project"),l.addEventListener("click",(()=>{t(),b.disabled=!0,b.style.backgroundColor="grey";for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,g=0;l.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(o=a[e]);for(let e=0;e<i.length;e++){for(let t=0;t<i[e].length;t++)i[e][t].displayed=!1,console.log(i[e][t]);console.log("displayedItems: "+g),g=0,v(i[e])}r.appendChild(L),console.log(r.children.length);for(const e of r.children)e.firstChild.disabled=!0;r.firstChild.firstChild.disabled=!0}));const m=document.getElementById("content");let u;const h=document.getElementById("inbox");let g=0;function v(e){for(let t=g;t<e.length;t++){u=document.createElement("div");const l=document.createElement("input");l.type="checkbox",l.classList.add("checkbox");const i=document.createElement("div"),d=document.createElement("div"),o=document.createElement("div");i.innerHTML="<h3>"+e[t].title+"</h3>",d.innerHTML="<p>"+e[t].description+"</p>",o.innerHTML="<p>"+e[t].dueDate+"</p>",c=e[t].priority,s(u),u.setAttribute("data-priority",c),u.setAttribute("data-index",t),u.setAttribute("data-checked","false"),u.setAttribute("data-editing","false"),1==e[t].checked?(l.checked=!0,u.setAttribute("data-checked","true"),u.style.backgroundColor="green"):(l.checked=!1,u.setAttribute("data-checked","false")),u.appendChild(l),u.appendChild(i),u.appendChild(d),u.appendChild(o),u.classList.add("showItemDiv"),d.classList.add("showDescription"),m.appendChild(u),l.addEventListener("click",p),u.addEventListener("click",(e=>{e.target==u&&"false"==u.getAttribute("data-checked")&&"false"==u.getAttribute("data-editing")&&0==h.classList.contains("active-project")&&n(e.target)})),e[t].displayed=!0,g++}}const y=document.getElementsByTagName("dialog")[0],b=document.getElementById("addItem");b.disabled=!0,1==b.disabled?b.style.backgroundColor="grey":b.style.backgroundColor="navy";const C=document.getElementById("closeDialog"),E=document.getElementsByTagName("form")[0];b.addEventListener("click",(()=>{y.showModal(),E.reset()})),C.addEventListener("click",(()=>{y.close()}));class k{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("dueDate").value;if(c=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===l)alert("Please Choose Your Due Date.");else{const i=new k(t,n,l,c);console.log(i),console.log(e),e.push(i),v(e),y.close()}}(o)}));const f=document.getElementById("newProject"),x=document.getElementById("projects");f.addEventListener("click",(function(){const e=document.createElement("div"),n=document.createElement("button"),l=document.createElement("input"),c=document.createElement("button"),s=document.createElement("button");c.innerText="Save",s.innerText="Exit",n.style.padding="9px",c.style.backgroundColor="white",c.style.maxHeight="15px",c.style.maxWidth="15px",c.style.fontSize="1em",c.style.color="navy",c.style.marginTop="5px",s.style.backgroundColor="white",s.style.maxHeight="15px",s.style.maxWidth="15px",s.style.fontSize="1em",s.style.color="navy",s.style.marginTop="5px",n.appendChild(l),n.appendChild(s),n.appendChild(c),e.appendChild(n),c.addEventListener("click",(()=>{let c=l.value;if(c.length<1)alert("Please Insert Name For Your Project.");else{n.innerText=c,c=new Array,a.push(c),i.push(c),n.addEventListener("click",(e=>{t(),b.disabled=!1,b.style.backgroundColor="navy";for(let e=0;e<d.length;e++)d[e].classList.remove("active-project"),d[e].displayed=!1,g=0;n.classList.add("active-project");for(let e=0;e<d.length;e++)d[e].classList.contains("active-project")&&(o=a[e]);v(o)}));const l=document.createElement("button");l.innerText="â†»",l.addEventListener("click",(()=>{e.innerHTML="",e.appendChild(n);for(let t=0;t<c.length;t++){const n=document.createElement("p");n.innerText=`${c[t].title} | ${c[t].dueDate}`,1==r.firstChild.firstChild.checked?n.style.backgroundColor="green":"low"==c[t].priority?n.style.backgroundColor="lightblue":"normal"==c[t].priority?n.style.backgroundColor="rgb(51, 126, 245)":n.style.backgroundColor="red",n.style.padding="2px",n.style.marginTop="3px",e.appendChild(n)}})),l.setAttribute("id","refresh-project"),n.appendChild(l),n.classList.add("project")}})),s.addEventListener("click",(()=>{e.removeChild(n),x.removeChild(e)})),x.removeChild(f),x.appendChild(e),x.appendChild(f),d.push(n)}));const T=document.getElementById("content"),L=document.createElement("p");L.innerHTML="The inbox section is for <b>review only</b>. You can't create, edit or check todo items here. You need to create separate project for that.",L.style.fontStyle="italic",L.style.position="absolute",L.style.bottom="5px",T.style.position="relative",T.appendChild(L)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFlNUIsTUFBTWdFLE9BQVMsTUFDOUIsRUFBUWhFLE1BQU0rRCxTQUFXLFdBQ3pCLEVBQVFoRixZQUFZNkMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jbGVhckNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2VkaXRTaG93SXRlbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NyZWF0ZVRvZG9JdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zZXR0aW5nUHJpb3JpdHkuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NoZWNrQ2hlY2tib3guanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3Nob3dpbmdJdGVtcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgZnVuY3Rpb24gY2xlYXJDb250ZW50KCkge1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG4gICAgY29udGVudC5pbm5lckhUTUwgPSBcIlwiO1xufSIsImltcG9ydCB7IGFjdGl2ZUFycmF5IH0gZnJvbSBcIi4vcHJvamVjdHMuanNcIjtcbmltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IGNvbnRlbnQgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdFNob3dJdGVtKHNob3dJdGVtKSB7XG5cbiAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJ0cnVlXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIGJlaW5nIGVkaXRlZCByaWdodCBub3dcIik7XG5cbiAgICBjb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgY29uc3QgaW5wdXREdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuXG4gICAgY29uc3Qgb3B0aW9uTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBjb25zdCBvcHRpb25Ob3JtYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbkhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuXG4gICAgb3B0aW9uTG93LmlubmVyVGV4dCA9IFwiTG93XCI7XG4gICAgb3B0aW9uTm9ybWFsLmlubmVyVGV4dCA9IFwiTm9ybWFsXCI7XG4gICAgb3B0aW9uSGlnaC5pbm5lclRleHQgPSBcIkhpZ2hcIjtcblxuICAgIG9wdGlvbkxvdy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImxvd1wiKTsgXG4gICAgb3B0aW9uTm9ybWFsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibm9ybWFsXCIpO1xuICAgIG9wdGlvbkhpZ2guc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJoaWdoXCIpO1xuXG5cbiAgICBjb25zdCBjaGlsZHJlbiA9IHNob3dJdGVtLmNoaWxkcmVuO1xuICAgIGNvbnN0IGNoZWNrYm94ID0gY2hpbGRyZW4uaXRlbSgwKTtcbiAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gY2hpbGRyZW4uaXRlbSgxKS5pbm5lclRleHQ7XG4gICAgY29uc3Qgb3JpZ2luYWxEZXNjcmlwdGlvbiA9IGNoaWxkcmVuLml0ZW0oMikuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsRHVlRGF0ZSA9IGNoaWxkcmVuLml0ZW0oMykuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsUHJpb3JpdHkgPSBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgY2hlY2tib3guZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgaW5wdXRUaXRsZS52YWx1ZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgaW5wdXREZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgIGlucHV0RHVlRGF0ZS52YWx1ZSA9IG9yaWdpbmFsRHVlRGF0ZTtcbiAgICBpbnB1dFByaW9yaXR5LmlubmVyVGV4dCA9IG9yaWdpbmFsUHJpb3JpdHk7XG5cbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbkxvdyk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25Ob3JtYWwpO1xuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uSGlnaCk7XG4gICAgXG4gICAgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJsb3dcIikge1xuICAgICAgICBvcHRpb25Mb3cuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgb3B0aW9uTm9ybWFsLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcImhpZ2hcIikge1xuICAgICAgICBvcHRpb25IaWdoLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbnB1dER1ZURhdGUudHlwZSA9IFwiZGF0ZVwiO1xuICAgIFxuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0VGl0bGUpO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cblxuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNoaWxkcmVuLml0ZW0oMSkpO1xuXG4gICAgY29uc3Qgc2F2ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG5cbiAgICBzYXZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0QnV0dG9uXCIsIFwic2F2ZUVkaXRCdXR0b25cIik7XG4gICAgY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJjbG9zZUVkaXRCdXR0b25cIik7XG4gICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0QnV0dG9uXCIsIFwiZGVsZXRlRWRpdEJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uaW5uZXJUZXh0ID0gXCJTYXZlXCI7XG4gICAgY2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJDbG9zZVwiO1xuICAgIGRlbGV0ZUJ1dHRvbi5pbm5lclRleHQgPSBcIkRlbGV0ZVwiO1xuXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2F2ZUJ1dHRvbik7XG5cbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29udGVudC5yZW1vdmVDaGlsZChzaG93SXRlbSk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSk7XG4gICAgICAgIGFjdGl2ZUFycmF5LnBvcChhY3RpdmVBcnJheVtpbmRleF0pO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pO1xuXG4gICAgY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3UHJpb3JpdHkgPSBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIG9yaWdpbmFsUHJpb3JpdHkpO1xuXG4gICAgICAgIG5ld1RpdGxlLmlubmVyVGV4dCA9IG9yaWdpbmFsVGl0bGU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLmlubmVyVGV4dCA9IG9yaWdpbmFsRGVzY3JpcHRpb247XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG4gICAgICAgIG5ld0R1ZURhdGUuaW5uZXJUZXh0ID0gb3JpZ2luYWxEdWVEYXRlO1xuXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEdWVEYXRlKTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFRpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RHVlRGF0ZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKHNhdmVCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICAgICAgY2hlY2tib3guZGlzYWJsZWQgPSBmYWxzZTtcblxuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJEaXYgSVMgTk9UIGJlaW5nIGVkaXRlZCByaWdodCBub3cuXCIpO1xuICAgIH0pXG5cbiAgICBzYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cbiAgICAgICAgbmV3VGl0bGUuaW5uZXJUZXh0ID0gaW5wdXRUaXRsZS52YWx1ZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgbmV3RGVzY3JpcHRpb24uc3R5bGUuZm9udFN0eWxlID0gXCJpdGFsaWNcIjtcbiAgICAgICAgbmV3RHVlRGF0ZS5pbm5lclRleHQgPSBpbnB1dER1ZURhdGUudmFsdWU7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSBwYXJzZUludChzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnRpdGxlID0gaW5wdXRUaXRsZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmRlc2NyaXB0aW9uID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmR1ZURhdGU9IGlucHV0RHVlRGF0ZS52YWx1ZTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLnByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBwcmlvcml0eSA9IGlucHV0UHJpb3JpdHkudmFsdWU7XG5cbiAgICAgICAgc2V0dGluZ1ByaW9yaXR5KHNob3dJdGVtKTtcblxuICAgICAgICBjb25zdCBuZXdQcmlvcml0eSA9IHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIiwgaW5wdXRQcmlvcml0eS52YWx1ZSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXlbaW5kZXhdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBpdGVtJ3MgcHJpb3JpdHkgaXM6IFwiICsgYWN0aXZlQXJyYXlbaW5kZXhdLnByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RHVlRGF0ZSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChzYXZlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgIGNoZWNrYm94LmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KTtcblxufSIsImltcG9ydCB7IHByb2plY3RzLCBuZXdQcm9qZWN0QnV0dG9uLCBhZGRJdGVtLCBpbmZvcm1hdGlvbmFsUCB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjbGVhckNvbnRlbnQgfSBmcm9tIFwiLi9jbGVhckNvbnRlbnQuanNcIjtcbmltcG9ydCB7IGRpc3BsYXllZEl0ZW1zLCBzaG93aW5nSXRlbXMsIHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBpbmRleCB9IGZyb20gXCIuL2VkaXRTaG93SXRlbS5qc1wiO1xuXG5jb25zdCBpbmJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5ib3hcIik7XG5leHBvcnQgbGV0IGluYm94QXJyYXkgPSBbXTtcblxubGV0IGFsbFByb2plY3RzID0gW107XG5hbGxQcm9qZWN0cy5wdXNoKGluYm94KTtcblxubGV0IGFsbFByb2plY3RBcnJheXMgPSBbXTtcbmFsbFByb2plY3RBcnJheXMucHVzaChpbmJveEFycmF5KTtcbmV4cG9ydCBsZXQgYWN0aXZlQXJyYXk7XG5cbmFjdGl2ZUFycmF5ID0gaW5ib3hBcnJheTtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcblxuaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgIGNsZWFyQ29udGVudCgpO1xuXG4gICAgYWRkSXRlbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICB9XG5cbiAgICBpbmJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXByb2plY3RcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSkge1xuICAgICAgICAgICAgYWN0aXZlQXJyYXkgPSBhbGxQcm9qZWN0QXJyYXlzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmJveEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5ib3hBcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaW5ib3hBcnJheVtpXVtqXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXlbaV1bal0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5ZWRJdGVtczogXCIgKyBkaXNwbGF5ZWRJdGVtcyk7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKGluYm94QXJyYXlbaV0pO1xuICAgIH1cbiAgICBcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGluZm9ybWF0aW9uYWxQKTtcblxuICAgIGNvbnNvbGUubG9nKGNvbnRlbnQuY2hpbGRyZW4ubGVuZ3RoKTtcblxuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY29udGVudC5jaGlsZHJlbikge1xuICAgICAgICBjaGlsZC5maXJzdENoaWxkLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBjb250ZW50LmZpcnN0Q2hpbGQuZmlyc3RDaGlsZC5kaXNhYmxlZCA9IHRydWU7IC8vIE5FRUQgVE8gRElTQUJMRSBFVkVSWSBJVEVNLCBOT1QgT05MWSBGSVJTVCBPTkVcblxufSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KCkge1xuXG4gICAgY29uc3QgcHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgXG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBwcm9qZWN0U2F2ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgcHJvamVjdEV4aXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIFxuICAgIHByb2plY3RTYXZlLmlubmVyVGV4dCA9IFwiU2F2ZVwiO1xuICAgIHByb2plY3RFeGl0LmlubmVyVGV4dCA9IFwiRXhpdFwiO1xuXG4gICAgcHJvamVjdC5zdHlsZS5wYWRkaW5nID0gXCI5cHhcIjtcblxuICAgIHByb2plY3RTYXZlLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICBwcm9qZWN0U2F2ZS5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4SGVpZ2h0ID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUubWF4V2lkdGggPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgcHJvamVjdEV4aXQuc3R5bGUuY29sb3IgPSBcIm5hdnlcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXJnaW5Ub3AgPSBcIjVweFwiO1xuXG4gICAgcHJvamVjdC5hcHBlbmRDaGlsZChwcm9qZWN0TmFtZUlucHV0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RFeGl0KTtcbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3RTYXZlKTtcblxuICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdCk7XG4gICAgXG4gICAgcHJvamVjdFNhdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgXG4gICAgICAgIGxldCBuYW1lID0gcHJvamVjdE5hbWVJbnB1dC52YWx1ZTtcbiAgICAgICAgXG4gICAgICAgIGlmIChuYW1lLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIEluc2VydCBOYW1lIEZvciBZb3VyIFByb2plY3QuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcm9qZWN0LmlubmVyVGV4dCA9IG5hbWU7XG4gICAgICAgICAgICBuYW1lID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICBhbGxQcm9qZWN0QXJyYXlzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICBpbmJveEFycmF5LnB1c2gobmFtZSk7XG4gICAgXG4gICAgICAgICAgICBwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSk9PiB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2xlYXJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWRkSXRlbS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFkZEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJuYXZ5XCI7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9qZWN0LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtcHJvamVjdFwiKTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxsUHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVBcnJheSA9IGFsbFByb2plY3RBcnJheXNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpO1xuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgcmVmcmVzaFByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgcmVmcmVzaFByb2plY3QuaW5uZXJUZXh0ID0gXCLihrtcIjtcbiAgICAgICAgICAgIHJlZnJlc2hQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHByb2plY3REaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3QpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5pbm5lclRleHQgPSBgJHtuYW1lW2ldLnRpdGxlfSB8ICR7bmFtZVtpXS5kdWVEYXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5maXJzdENoaWxkLmZpcnN0Q2hpbGQuY2hlY2tlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lW2ldLnByaW9yaXR5ID09IFwibG93XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmFtZVtpXS5wcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3RJdGVtLnN0eWxlLnBhZGRpbmcgPSBcIjJweFwiO1xuICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5tYXJnaW5Ub3AgPSBcIjNweFwiO1xuXG4gICAgICAgICAgICAgICAgICAgIHByb2plY3REaXYuYXBwZW5kQ2hpbGQocHJvamVjdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICByZWZyZXNoUHJvamVjdC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInJlZnJlc2gtcHJvamVjdFwiKTtcblxuICAgICAgICAgICAgcHJvamVjdC5hcHBlbmRDaGlsZChyZWZyZXNoUHJvamVjdCk7XG5cbiAgICAgICAgICAgIHByb2plY3QuY2xhc3NMaXN0LmFkZChcInByb2plY3RcIik7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcHJvamVjdEV4aXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcHJvamVjdERpdi5yZW1vdmVDaGlsZChwcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQocHJvamVjdERpdik7XG4gICAgfSlcblxuICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuXG4gICAgYWxsUHJvamVjdHMucHVzaChwcm9qZWN0KTtcblxufSIsImltcG9ydCB7IEl0ZW0sIGRpYWxvZyB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5pbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGxldCBwcmlvcml0eTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9JdGVtRnVuYyAoYWN0aXZlQXJyYXkpIHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWU7XG4gICAgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpLnZhbHVlO1xuXG4gICAgaWYgKHRpdGxlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgVGl0bGUuXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoIDwgMSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBJbnNlcnQgYSBEZXNjcmlwdGlvbi5cIilcbiAgICB9XG5cbiAgICBlbHNlIGlmIChkdWVEYXRlID09PSBcIlwiKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIENob29zZSBZb3VyIER1ZSBEYXRlLlwiKVxuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW0odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheSk7XG4gICAgICAgIGFjdGl2ZUFycmF5LnB1c2goaXRlbSk7XG4gICAgICAgIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSk7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgc2hvd0l0ZW0sIHNob3dpbmdJdGVtcyB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ1ByaW9yaXR5IChzaG93SXRlbSkge1xuICAgIFxuICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChwcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfVxufSIsImltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcbmltcG9ydCB7IGFjdGl2ZUFycmF5IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ2hlY2tib3goZXZlbnQpIHtcbiAgICBwcmlvcml0eSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBjaGVja2VkXCIpO1xuICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBsZXQgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIik7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBub3QgY2hlY2tlZFwiKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBjaGVja0NoZWNrYm94IH0gZnJvbSBcIi4vY2hlY2tDaGVja2JveC5qc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgZWRpdFNob3dJdGVtIH0gZnJvbSBcIi4vZWRpdFNob3dJdGVtLmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHkuanNcIjtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbmV4cG9ydCB7IGNvbnRlbnQgfTtcbmV4cG9ydCBsZXQgc2hvd0l0ZW07XG5cbmNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmJveFwiKTtcblxuZXhwb3J0IGxldCBkaXNwbGF5ZWRJdGVtcyA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpIHtcblxuICAgIGZvciAobGV0IGkgPSBkaXNwbGF5ZWRJdGVtczsgaSA8IGFjdGl2ZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgc2hvd0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZChcImNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBzaG93VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBzaG93RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBzaG93RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNob3dUaXRsZS5pbm5lckhUTUwgPVwiPGgzPlwiICsgYWN0aXZlQXJyYXlbaV0udGl0bGUgKyBcIjwvaDM+XCI7XG4gICAgICAgIHNob3dEZXNjcmlwdGlvbi5pbm5lckhUTUwgPVwiPHA+XCIgKyBhY3RpdmVBcnJheVtpXS5kZXNjcmlwdGlvbiArIFwiPC9wPlwiO1xuICAgICAgICBzaG93RHVlRGF0ZS5pbm5lckhUTUwgPVwiPHA+XCIgKyBhY3RpdmVBcnJheVtpXS5kdWVEYXRlICsgXCI8L3A+XCI7XG4gICAgXG4gICAgICAgIHByaW9yaXR5ID0gYWN0aXZlQXJyYXlbaV0ucHJpb3JpdHk7XG5cbiAgICAgICAgc2V0dGluZ1ByaW9yaXR5KHNob3dJdGVtKTtcbiAgICBcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBwcmlvcml0eSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcblxuICAgICAgICBpZiAoYWN0aXZlQXJyYXlbaV0uY2hlY2tlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0R1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5jbGFzc0xpc3QuYWRkKFwic2hvd0l0ZW1EaXZcIik7XG4gICAgICAgIHNob3dEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwic2hvd0Rlc2NyaXB0aW9uXCIpO1xuICAgIFxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHNob3dJdGVtKTtcbiAgICBcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NoZWNrYm94KTtcbiAgICBcbiAgICAgICAgc2hvd0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT0gc2hvd0l0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIpID09IFwiZmFsc2VcIiAmJiBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIikgPT0gXCJmYWxzZVwiICYmIGluYm94LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRTaG93SXRlbShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhY3RpdmVBcnJheVtpXS5kaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5ZWRJdGVtcysrO1xuICAgIFxuICAgIH1cbiAgICBcbn0iLCJpbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRvZG9JdGVtRnVuYyB9IGZyb20gIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSwgY3JlYXRlTmV3UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5cbmNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGlhbG9nXCIpWzBdO1xuZXhwb3J0IHsgZGlhbG9nIH07XG5leHBvcnQgY29uc3QgYWRkSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkSXRlbVwiKTtcbmFkZEl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xuXG5pZiAoYWRkSXRlbS5kaXNhYmxlZCA9PSB0cnVlKSB7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbn1cblxuZWxzZSB7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIm5hdnlcIjtcbn1cblxuY29uc3QgY2xvc2VEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRGlhbG9nXCIpO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJmb3JtXCIpWzBdO1xuXG5hZGRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgZGlhbG9nLnNob3dNb2RhbCgpO1xuICAgIGZvcm0ucmVzZXQoKTtcbn0pO1xuXG5jbG9zZURpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5jbG9zZSgpO1xufSk7XG5cbmV4cG9ydCBjbGFzcyBJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfTtcbn1cblxuY29uc3QgY3JlYXRlVG9kb0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZVRvZG9JdGVtXCIpO1xuXG5jcmVhdGVUb2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjcmVhdGVUb2RvSXRlbUZ1bmMoYWN0aXZlQXJyYXkpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdQcm9qZWN0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0c1wiKTtcblxubmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlTmV3UHJvamVjdCk7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5cbmV4cG9ydCBjb25zdCBpbmZvcm1hdGlvbmFsUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuaW5mb3JtYXRpb25hbFAuaW5uZXJIVE1MID0gXCJUaGUgaW5ib3ggc2VjdGlvbiBpcyBmb3IgPGI+cmV2aWV3IG9ubHk8L2I+LiBZb3UgY2FuJ3QgY3JlYXRlLCBlZGl0IG9yIGNoZWNrIHRvZG8gaXRlbXMgaGVyZS4gWW91IG5lZWQgdG8gY3JlYXRlIHNlcGFyYXRlIHByb2plY3QgZm9yIHRoYXQuXCI7XG5pbmZvcm1hdGlvbmFsUC5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuaW5mb3JtYXRpb25hbFAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5pbmZvcm1hdGlvbmFsUC5zdHlsZS5ib3R0b20gPSBcIjVweFwiO1xuY29udGVudC5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbmNvbnRlbnQuYXBwZW5kQ2hpbGQoaW5mb3JtYXRpb25hbFApOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImNsZWFyQ29udGVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJlZGl0U2hvd0l0ZW0iLCJzaG93SXRlbSIsInNldEF0dHJpYnV0ZSIsImNvbnNvbGUiLCJsb2ciLCJpbnB1dFRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImlucHV0RGVzY3JpcHRpb24iLCJpbnB1dER1ZURhdGUiLCJpbnB1dFByaW9yaXR5Iiwib3B0aW9uTG93Iiwib3B0aW9uTm9ybWFsIiwib3B0aW9uSGlnaCIsImlubmVyVGV4dCIsImNoaWxkcmVuIiwiY2hlY2tib3giLCJpdGVtIiwib3JpZ2luYWxUaXRsZSIsIm9yaWdpbmFsRGVzY3JpcHRpb24iLCJvcmlnaW5hbER1ZURhdGUiLCJvcmlnaW5hbFByaW9yaXR5IiwiZ2V0QXR0cmlidXRlIiwiZGlzYWJsZWQiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwic2VsZWN0ZWQiLCJ0eXBlIiwicmVtb3ZlQ2hpbGQiLCJzYXZlQnV0dG9uIiwiY2xvc2VCdXR0b24iLCJkZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5kZXgiLCJwYXJzZUludCIsImFjdGl2ZUFycmF5IiwicG9wIiwibmV3VGl0bGUiLCJuZXdEZXNjcmlwdGlvbiIsIm5ld0R1ZURhdGUiLCJzdHlsZSIsImZvbnRTdHlsZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJzZXR0aW5nUHJpb3JpdHkiLCJpbmJveCIsImluYm94QXJyYXkiLCJhbGxQcm9qZWN0cyIsInB1c2giLCJhbGxQcm9qZWN0QXJyYXlzIiwiY29udGVudCIsImJhY2tncm91bmRDb2xvciIsImNoZWNrQ2hlY2tib3giLCJldmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJjaGVja2VkIiwiYWRkSXRlbSIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJkaXNwbGF5ZWQiLCJkaXNwbGF5ZWRJdGVtcyIsImNvbnRhaW5zIiwiaiIsInNob3dpbmdJdGVtcyIsImluZm9ybWF0aW9uYWxQIiwiY2hpbGQiLCJmaXJzdENoaWxkIiwic2hvd1RpdGxlIiwic2hvd0Rlc2NyaXB0aW9uIiwic2hvd0R1ZURhdGUiLCJlIiwiZGlhbG9nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJjbG9zZURpYWxvZyIsInNob3dNb2RhbCIsInJlc2V0IiwiY2xvc2UiLCJJdGVtIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiYWxlcnQiLCJjcmVhdGVUb2RvSXRlbUZ1bmMiLCJuZXdQcm9qZWN0QnV0dG9uIiwicHJvamVjdHMiLCJwcm9qZWN0RGl2IiwicHJvamVjdCIsInByb2plY3ROYW1lSW5wdXQiLCJwcm9qZWN0U2F2ZSIsInByb2plY3RFeGl0IiwicGFkZGluZyIsIm1heEhlaWdodCIsIm1heFdpZHRoIiwiZm9udFNpemUiLCJjb2xvciIsIm1hcmdpblRvcCIsIm5hbWUiLCJBcnJheSIsInJlZnJlc2hQcm9qZWN0IiwicHJvamVjdEl0ZW0iLCJwb3NpdGlvbiIsImJvdHRvbSJdLCJzb3VyY2VSb290IjoiIn0=