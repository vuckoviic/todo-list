(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};let t;function n(){o.style.backgroundColor="low"===t?"lightblue":"normal"==t?"rgb(51, 126, 245)":"red"}function l(e){t=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked?e.target.parentElement.style.backgroundColor="green":"low"===t?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Priority is LOW")):"normal"==t?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Priority is NORMAL")):(e.target.parentElement.style.backgroundColor="red",console.log("Priority is HIGH"))}e.d({},{q7:()=>c,r3:()=>d,$y:()=>s});const i=document.getElementById("content");let o;const d=document.getElementsByTagName("dialog")[0],r=document.getElementById("addItem"),a=document.getElementById("closeDialog");r.addEventListener("click",(()=>{d.showModal()})),a.addEventListener("click",(()=>{d.close()}));class c{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}let s=[];document.getElementById("createTodoItem").addEventListener("click",(function(e){const r=document.getElementById("title").value,a=document.getElementById("description").value,m=document.getElementById("dueDate").value;if(t=document.getElementById("priority").value,r.length<1)alert("Please Insert a Title.");else if(a.length<1)alert("Please Insert a Description.");else if(""===m)alert("Please Choose Your Due Date.");else{const e=new c(r,a,m,t);console.log(e),s.push(e),console.log(s),function(){o=document.createElement("div");const e=document.createElement("input");e.type="checkbox",e.classList.add("checkbox");const d=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div");d.innerHTML="<h3>"+s[s.length-1].title+"</h3>",r.innerHTML="<p>"+s[s.length-1].description+"</p>",a.innerHTML="<p>"+s[s.length-1].dueDate+"</p>",n(),o.setAttribute("data-priority",t),o.setAttribute("data-index",s.length-1),o.appendChild(e),o.appendChild(d),o.appendChild(r),o.appendChild(a),o.classList.add("showItemDiv"),r.classList.add("showDescription"),i.appendChild(o),e.addEventListener("click",l),o.addEventListener("click",(e=>{e.target==o?function(e){const l=document.createElement("input"),o=document.createElement("textarea"),d=document.createElement("input"),r=document.createElement("select"),a=document.createElement("option"),c=document.createElement("option"),m=document.createElement("option");a.innerText="Low",c.innerText="Normal",m.innerText="High",a.setAttribute("value","low"),c.setAttribute("value","normal"),m.setAttribute("value","high");const u=e.children,p=u.item(1).firstChild.innerText,h=u.item(2).firstChild.innerText,v=u.item(3).firstChild.innerText,g=e.getAttribute("data-priority");l.value=p,o.innerText=h,d.value=v,r.innerText=g,r.appendChild(a),r.appendChild(c),r.appendChild(m),"low"==g?a.selected=!0:"normal"==g?c.selected=!0:m.selected=!0,d.type="date",e.appendChild(l),e.appendChild(o),e.appendChild(d),e.appendChild(r),e.removeChild(u.item(1)),e.removeChild(u.item(1)),e.removeChild(u.item(1));const C=document.createElement("button"),E=document.createElement("button"),y=document.createElement("button");C.classList.add("editButton","saveEditButton"),E.classList.add("editButton","closeEditButton"),y.classList.add("editButton","deleteEditButton"),C.innerText="Save",E.innerText="Close",y.innerText="Delete",e.appendChild(y),e.appendChild(E),e.appendChild(C),y.addEventListener("click",(()=>{i.removeChild(e)})),E.addEventListener("click",(()=>{const t=document.createElement("h3"),n=document.createElement("p"),i=document.createElement("p");e.setAttribute("data-priority",g),t.innerText=p,n.innerText=h,n.style.fontStyle="italic",i.innerText=v,e.appendChild(t),e.appendChild(n),e.appendChild(i),e.removeChild(l),e.removeChild(o),e.removeChild(d),e.removeChild(r),e.removeChild(C),e.removeChild(E),e.removeChild(y)})),C.addEventListener("click",(()=>{const i=document.createElement("h3"),a=document.createElement("p"),c=document.createElement("p");e.setAttribute("data-priority",r),i.innerText=l.value,a.innerText=o.value,a.style.fontStyle="italic",c.innerText=d.value;const m=e.getAttribute("data-index");s[m].title=l.value,s[m].description=o.value,s[m].dueDate=d.value,s[m].priority=r.value,t=r.value,n(),console.log(s[m]),console.log("Saved item's priority is: "+s[m].priority),e.appendChild(i),e.appendChild(a),e.appendChild(c),e.removeChild(l),e.removeChild(o),e.removeChild(d),e.removeChild(r),e.removeChild(C),e.removeChild(E),e.removeChild(y)}))}(e.target):console.log("Error! Clicked element can't be processed")}),{once:!0})}()}e.preventDefault(),d.close()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFBWUUsR0FDckI5RCxFQUFTNEQsWUFBWUcsRUFBYSxHQUcxQyxDRjdHWU0sQ0FBYXpCLEVBQUV2QyxRQUlmSSxRQUFRQyxJQUFJLDRDQUNoQixHQUVELENBQUM0RCxNQUFPLEdBQ2YsQ0huQlFDLEVBQ0osQ0FFQW5FLEVBQU1vRSxpQkFDTjFELEVBQU9NLE9BQ1gsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jcmVhdGVUb2RvSXRlbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2V0dGluZ1ByaW9yaXR5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jaGVja0NoZWNrYm94LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zaG93aW5nSXRlbXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9lZGl0U2hvd0l0ZW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyBJdGVtLCB0b2RvSXRlbXMsIGRpYWxvZyB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGxldCBwcmlvcml0eTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9JdGVtRnVuYyAoZXZlbnQpIHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWU7XG4gICAgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpLnZhbHVlO1xuXG4gICAgaWYgKHRpdGxlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgVGl0bGUuXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoIDwgMSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBJbnNlcnQgYSBEZXNjcmlwdGlvbi5cIilcbiAgICB9XG5cbiAgICBlbHNlIGlmIChkdWVEYXRlID09PSBcIlwiKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIENob29zZSBZb3VyIER1ZSBEYXRlLlwiKVxuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW0odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuICAgICAgICB0b2RvSXRlbXMucHVzaChpdGVtKTtcbiAgICAgICAgY29uc29sZS5sb2codG9kb0l0ZW1zKTtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKCk7XG4gICAgfVxuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBkaWFsb2cuY2xvc2UoKTtcbn0iLCJpbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtLmpzXCI7XG5pbXBvcnQgeyBzaG93SXRlbSwgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXR0aW5nUHJpb3JpdHkgKCkge1xuICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChwcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfVxufSIsImltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ2hlY2tib3goZXZlbnQpIHtcbiAgICBwcmlvcml0eSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcmlvcml0eSBpcyBMT1dcIilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcmlvcml0eSBpcyBOT1JNQUxcIilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJlZFwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQcmlvcml0eSBpcyBISUdIXCIpXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBjaGVja0NoZWNrYm94IH0gZnJvbSBcIi4vY2hlY2tDaGVja2JveC5qc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgZWRpdFNob3dJdGVtIH0gZnJvbSBcIi4vZWRpdFNob3dJdGVtLmpzXCI7XG5pbXBvcnQgeyB0b2RvSXRlbXMgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgc2V0dGluZ1ByaW9yaXR5IH0gZnJvbSBcIi4vc2V0dGluZ1ByaW9yaXR5LmpzXCI7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5leHBvcnQgeyBjb250ZW50IH07XG5leHBvcnQgbGV0IHNob3dJdGVtO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvd2luZ0l0ZW1zKCkge1xuICAgIHNob3dJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2JveFwiKTtcbiAgICBjb25zdCBzaG93VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNvbnN0IHNob3dEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3Qgc2hvd0R1ZURhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIHNob3dUaXRsZS5pbm5lckhUTUwgPVwiPGgzPlwiICsgdG9kb0l0ZW1zWyh0b2RvSXRlbXMubGVuZ3RoLTEpXS50aXRsZSArIFwiPC9oMz5cIjtcbiAgICBzaG93RGVzY3JpcHRpb24uaW5uZXJIVE1MID1cIjxwPlwiICsgdG9kb0l0ZW1zWyh0b2RvSXRlbXMubGVuZ3RoLTEpXS5kZXNjcmlwdGlvbiArIFwiPC9wPlwiO1xuICAgIHNob3dEdWVEYXRlLmlubmVySFRNTCA9XCI8cD5cIiArIHRvZG9JdGVtc1sodG9kb0l0ZW1zLmxlbmd0aC0xKV0uZHVlRGF0ZSArIFwiPC9wPlwiO1xuXG4gICAgc2V0dGluZ1ByaW9yaXR5KCk7XG5cbiAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIHByaW9yaXR5KTtcbiAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIsIHRvZG9JdGVtcy5sZW5ndGgtMSk7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd1RpdGxlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzaG93RGVzY3JpcHRpb24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNob3dEdWVEYXRlKTtcbiAgICBzaG93SXRlbS5jbGFzc0xpc3QuYWRkKFwic2hvd0l0ZW1EaXZcIik7XG4gICAgc2hvd0Rlc2NyaXB0aW9uLmNsYXNzTGlzdC5hZGQoXCJzaG93RGVzY3JpcHRpb25cIik7XG5cbiAgICBjb250ZW50LmFwcGVuZENoaWxkKHNob3dJdGVtKTtcblxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hlY2tDaGVja2JveCk7XG4gICAgc2hvd0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS50YXJnZXQgPT0gc2hvd0l0ZW0pIHtcbiAgICAgICAgICAgIGVkaXRTaG93SXRlbShlLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciEgQ2xpY2tlZCBlbGVtZW50IGNhbid0IGJlIHByb2Nlc3NlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgfSwge29uY2UgOiB0cnVlfSk7XG59IiwiaW1wb3J0IHsgc2hvd2luZ0l0ZW1zIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVUb2RvSXRlbUZ1bmMgfSBmcm9tICBcIi4vY3JlYXRlVG9kb0l0ZW0uanNcIjtcblxuY29uc3QgZGlhbG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaWFsb2dcIilbMF07XG5leHBvcnQgeyBkaWFsb2cgfTtcbmNvbnN0IGFkZEl0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZEl0ZW1cIik7XG5jb25zdCBjbG9zZURpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xvc2VEaWFsb2dcIik7XG5cbmFkZEl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuc2hvd01vZGFsKCk7XG59KTtcblxuY2xvc2VEaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBkaWFsb2cuY2xvc2UoKTtcbn0pO1xuXG5leHBvcnQgY2xhc3MgSXRlbSB7XG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZTtcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIH07XG59XG5cbmV4cG9ydCBsZXQgdG9kb0l0ZW1zID0gW107XG5cbmNvbnN0IGNyZWF0ZVRvZG9JdGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVUb2RvSXRlbVwiKTtcblxuY3JlYXRlVG9kb0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjcmVhdGVUb2RvSXRlbUZ1bmMpO1xuIiwiaW1wb3J0IHsgdG9kb0l0ZW1zIH0gZnJvbSBcIi5cIjtcbmltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IGNvbnRlbnQgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZWRpdFNob3dJdGVtKHNob3dJdGVtKSB7XG5cbiAgICBjb25zdCBpbnB1dFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG4gICAgY29uc3QgaW5wdXREdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IGlucHV0UHJpb3JpdHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuXG4gICAgY29uc3Qgb3B0aW9uTG93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBjb25zdCBvcHRpb25Ob3JtYWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIGNvbnN0IG9wdGlvbkhpZ2ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuXG4gICAgb3B0aW9uTG93LmlubmVyVGV4dCA9IFwiTG93XCI7XG4gICAgb3B0aW9uTm9ybWFsLmlubmVyVGV4dCA9IFwiTm9ybWFsXCI7XG4gICAgb3B0aW9uSGlnaC5pbm5lclRleHQgPSBcIkhpZ2hcIjtcblxuICAgIG9wdGlvbkxvdy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcImxvd1wiKTsgXG4gICAgb3B0aW9uTm9ybWFsLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwibm9ybWFsXCIpO1xuICAgIG9wdGlvbkhpZ2guc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJoaWdoXCIpO1xuXG4gICAgY29uc3QgY2hpbGRyZW4gPSBzaG93SXRlbS5jaGlsZHJlbjtcbiAgICBjb25zdCBvcmlnaW5hbFRpdGxlID0gY2hpbGRyZW4uaXRlbSgxKS5maXJzdENoaWxkLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbERlc2NyaXB0aW9uID0gY2hpbGRyZW4uaXRlbSgyKS5maXJzdENoaWxkLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbER1ZURhdGUgPSBjaGlsZHJlbi5pdGVtKDMpLmZpcnN0Q2hpbGQuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsUHJpb3JpdHkgPSBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIpO1xuXG4gICAgaW5wdXRUaXRsZS52YWx1ZSA9IG9yaWdpbmFsVGl0bGU7XG4gICAgaW5wdXREZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgIGlucHV0RHVlRGF0ZS52YWx1ZSA9IG9yaWdpbmFsRHVlRGF0ZTtcbiAgICBpbnB1dFByaW9yaXR5LmlubmVyVGV4dCA9IG9yaWdpbmFsUHJpb3JpdHk7XG5cbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbkxvdyk7XG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25Ob3JtYWwpO1xuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uSGlnaCk7XG4gICAgXG4gICAgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJsb3dcIikge1xuICAgICAgICBvcHRpb25Mb3cuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgb3B0aW9uTm9ybWFsLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbkhpZ2guc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlucHV0RHVlRGF0ZS50eXBlID0gXCJkYXRlXCI7XG4gICAgXG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREZXNjcmlwdGlvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuXG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG4gICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2hpbGRyZW4uaXRlbSgxKSk7XG5cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcblxuICAgIHNhdmVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJzYXZlRWRpdEJ1dHRvblwiKTtcbiAgICBjbG9zZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImNsb3NlRWRpdEJ1dHRvblwiKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZChcImVkaXRCdXR0b25cIiwgXCJkZWxldGVFZGl0QnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5pbm5lclRleHQgPSBcIlNhdmVcIjtcbiAgICBjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkNsb3NlXCI7XG4gICAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9IFwiRGVsZXRlXCI7XG5cbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChzYXZlQnV0dG9uKTtcblxuICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb250ZW50LnJlbW92ZUNoaWxkKHNob3dJdGVtKTtcbiAgICB9KTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBvcmlnaW5hbFByaW9yaXR5KTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IG9yaWdpbmFsRHVlRGF0ZTtcblxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RHVlRGF0ZSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChzYXZlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChkZWxldGVCdXR0b24pO1xuICAgIH0pXG5cbiAgICBzYXZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBpbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IGlucHV0RHVlRGF0ZS52YWx1ZTtcblxuICAgICAgICBjb25zdCBpbmRleCA9IHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIik7XG4gICAgICAgIHRvZG9JdGVtc1tpbmRleF0udGl0bGUgPSBpbnB1dFRpdGxlLnZhbHVlO1xuICAgICAgICB0b2RvSXRlbXNbaW5kZXhdLmRlc2NyaXB0aW9uID0gaW5wdXREZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgdG9kb0l0ZW1zW2luZGV4XS5kdWVEYXRlPSBpbnB1dER1ZURhdGUudmFsdWU7XG4gICAgICAgIHRvZG9JdGVtc1tpbmRleF0ucHJpb3JpdHkgPSBpbnB1dFByaW9yaXR5LnZhbHVlO1xuXG4gICAgICAgIHByaW9yaXR5ID0gaW5wdXRQcmlvcml0eS52YWx1ZTtcblxuICAgICAgICBzZXR0aW5nUHJpb3JpdHkoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyh0b2RvSXRlbXNbaW5kZXhdKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJTYXZlZCBpdGVtJ3MgcHJpb3JpdHkgaXM6IFwiICsgdG9kb0l0ZW1zW2luZGV4XS5wcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcbiAgICB9KTtcblxufSJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInByaW9yaXR5Iiwic2V0dGluZ1ByaW9yaXR5Iiwic2hvd0l0ZW0iLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNoZWNrQ2hlY2tib3giLCJldmVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJjaGVja2VkIiwiY29uc29sZSIsImxvZyIsImNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGlhbG9nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJhZGRJdGVtIiwiY2xvc2VEaWFsb2ciLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd01vZGFsIiwiY2xvc2UiLCJJdGVtIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsInRoaXMiLCJ0b2RvSXRlbXMiLCJ2YWx1ZSIsImxlbmd0aCIsImFsZXJ0IiwiaXRlbSIsInB1c2giLCJjcmVhdGVFbGVtZW50IiwiY2hlY2tib3giLCJ0eXBlIiwiY2xhc3NMaXN0IiwiYWRkIiwic2hvd1RpdGxlIiwic2hvd0Rlc2NyaXB0aW9uIiwic2hvd0R1ZURhdGUiLCJpbm5lckhUTUwiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsImUiLCJpbnB1dFRpdGxlIiwiaW5wdXREZXNjcmlwdGlvbiIsImlucHV0RHVlRGF0ZSIsImlucHV0UHJpb3JpdHkiLCJvcHRpb25Mb3ciLCJvcHRpb25Ob3JtYWwiLCJvcHRpb25IaWdoIiwiaW5uZXJUZXh0IiwiY2hpbGRyZW4iLCJvcmlnaW5hbFRpdGxlIiwiZmlyc3RDaGlsZCIsIm9yaWdpbmFsRGVzY3JpcHRpb24iLCJvcmlnaW5hbER1ZURhdGUiLCJvcmlnaW5hbFByaW9yaXR5Iiwic2VsZWN0ZWQiLCJyZW1vdmVDaGlsZCIsInNhdmVCdXR0b24iLCJjbG9zZUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsIm5ld1RpdGxlIiwibmV3RGVzY3JpcHRpb24iLCJuZXdEdWVEYXRlIiwiZm9udFN0eWxlIiwiaW5kZXgiLCJlZGl0U2hvd0l0ZW0iLCJvbmNlIiwic2hvd2luZ0l0ZW1zIiwicHJldmVudERlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9