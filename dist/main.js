(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){document.getElementById("content").innerHTML=""}e.d({},{q7:()=>f,B5:()=>C,r3:()=>E,OS:()=>I,ar:()=>T,dt:()=>L});const n=document.getElementById("inbox");let l=[],i=[];i.push(n);let d,o,a,r,c,s=[];function p(e){e.style.backgroundColor="low"===c?"lightblue":"normal"==c?"rgb(51, 126, 245)":"red"}function m(e){if(c=e.target.parentElement.getAttribute("data-priority"),!0===e.target.checked){e.target.parentElement.style.backgroundColor="green",console.log("Div is checked"),e.target.parentElement.setAttribute("data-checked","true");let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!0,console.log(d[t].checked)}else{"low"===c?(e.target.parentElement.style.backgroundColor="lightblue",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):"normal"==c?(e.target.parentElement.style.backgroundColor="rgb(51, 126, 245)",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false")):(e.target.parentElement.style.backgroundColor="red",console.log("Div is not checked"),e.target.parentElement.setAttribute("data-checked","false"));let t=e.target.parentElement.getAttribute("data-index");d[t].checked=!1,console.log(d[t].checked)}}function u(e){e.setAttribute("data-editing","true"),console.log("Div IS being edited right now");const t=document.createElement("input"),n=document.createElement("textarea"),l=document.createElement("input"),i=document.createElement("select"),o=document.createElement("option"),a=document.createElement("option"),r=document.createElement("option");o.innerText="Low",a.innerText="Normal",r.innerText="High",o.setAttribute("value","low"),a.setAttribute("value","normal"),r.setAttribute("value","high");const s=e.children,m=s.item(0),u=s.item(1).innerText,g=s.item(2).innerText,v=s.item(3).innerText,y=e.getAttribute("data-priority");m.disabled=!0,t.value=u,n.innerText=g,l.value=v,i.innerText=y,i.appendChild(o),i.appendChild(a),i.appendChild(r),"low"==y?o.selected=!0:"normal"==y?a.selected=!0:"high"==y&&(r.selected=!0),l.type="date",e.appendChild(t),e.appendChild(n),e.appendChild(l),e.appendChild(i),e.removeChild(s.item(1)),e.removeChild(s.item(1)),e.removeChild(s.item(1));const b=document.createElement("button"),E=document.createElement("button"),C=document.createElement("button");b.classList.add("editButton","saveEditButton"),E.classList.add("editButton","closeEditButton"),C.classList.add("editButton","deleteEditButton"),b.innerText="Save",E.innerText="Close",C.innerText="Delete",e.appendChild(C),e.appendChild(E),e.appendChild(b),C.addEventListener("click",(()=>{h.removeChild(e);const t=parseInt(e.getAttribute("data-index"));d.pop(d[t]),e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),E.addEventListener("click",(()=>{const d=document.createElement("h3"),o=document.createElement("p"),a=document.createElement("p");e.setAttribute("data-priority",y),d.innerText=u,o.innerText=g,o.style.fontStyle="italic",a.innerText=v,e.appendChild(d),e.appendChild(o),e.appendChild(a),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(E),e.removeChild(C),m.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")})),b.addEventListener("click",(()=>{const o=document.createElement("h3"),a=document.createElement("p"),r=document.createElement("p");o.innerText=t.value,a.innerText=n.value,a.style.fontStyle="italic",r.innerText=l.value;const s=parseInt(e.getAttribute("data-index"));d[s].title=t.value,d[s].description=n.value,d[s].dueDate=l.value,d[s].priority=i.value,c=i.value,p(e),e.setAttribute("data-priority",i.value),console.log(d[s]),console.log("Saved item's priority is: "+d[s].priority),e.appendChild(o),e.appendChild(a),e.appendChild(r),e.removeChild(t),e.removeChild(n),e.removeChild(l),e.removeChild(i),e.removeChild(b),e.removeChild(E),e.removeChild(C),m.disabled=!1,e.setAttribute("data-editing","false"),console.log("Div IS NOT being edited right now.")}))}s.push(l),d=l,n.classList.add("active-project"),n.addEventListener("click",(()=>{t(),C.disabled=!0,C.style.backgroundColor="grey";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,y=0;n.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=s[e]);for(let e=0;e<l.length;e++){for(let t=0;t<l[e].length;t++)l[e][t].displayed=!1,console.log(l[e][t]);console.log("displayedItems: "+y),y=0,b(l[e])}content.appendChild(I),a.innerHTML="",a.appendChild(r);for(let e=0;e<o.length;e++){const t=document.createElement("p");t.innerText=`${o[e].title} | ${o[e].dueDate}`,"low"==o[e].priority?t.style.backgroundColor="lightblue":"normal"==o[e].priority?t.style.backgroundColor="rgb(51, 126, 245)":t.style.backgroundColor="red",t.style.padding="2px",t.style.marginTop="3px",a.appendChild(t)}}));const h=document.getElementById("content");let g;const v=document.getElementById("inbox");let y=0;function b(e){for(let t=y;t<e.length;t++){g=document.createElement("div");const n=document.createElement("input");n.type="checkbox",n.classList.add("checkbox");const l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");l.innerHTML="<h3>"+e[t].title+"</h3>",i.innerHTML="<p>"+e[t].description+"</p>",d.innerHTML="<p>"+e[t].dueDate+"</p>",c=e[t].priority,p(g),g.setAttribute("data-priority",c),g.setAttribute("data-index",t),g.setAttribute("data-checked","false"),g.setAttribute("data-editing","false"),1==e[t].checked?(n.checked=!0,g.setAttribute("data-checked","true"),g.style.backgroundColor="green"):(n.checked=!1,g.setAttribute("data-checked","false")),g.appendChild(n),g.appendChild(l),g.appendChild(i),g.appendChild(d),g.classList.add("showItemDiv"),i.classList.add("showDescription"),h.appendChild(g),n.addEventListener("click",m),g.addEventListener("click",(e=>{e.target==g&&"false"==g.getAttribute("data-checked")&&"false"==g.getAttribute("data-editing")&&0==v.classList.contains("active-project")&&u(e.target)})),e[t].displayed=!0,y++}}const E=document.getElementsByTagName("dialog")[0],C=document.getElementById("addItem");C.disabled=!0,1==C.disabled?C.style.backgroundColor="grey":C.style.backgroundColor="navy";const k=document.getElementById("closeDialog"),x=document.getElementsByTagName("form")[0];C.addEventListener("click",(()=>{E.showModal(),x.reset()})),k.addEventListener("click",(()=>{E.close()}));class f{constructor(e,t,n,l){this.title=e,this.description=t,this.dueDate=n,this.priority=l}}document.getElementById("createTodoItem").addEventListener("click",(()=>{!function(e){const t=document.getElementById("title").value,n=document.getElementById("description").value,l=document.getElementById("dueDate").value;if(c=document.getElementById("priority").value,t.length<1)alert("Please Insert a Title.");else if(n.length<1)alert("Please Insert a Description.");else if(""===l)alert("Please Choose Your Due Date.");else{const i=new f(t,n,l,c);console.log(i),console.log(e),e.push(i),b(e),E.close()}}(d)}));const T=document.getElementById("newProject"),L=document.getElementById("projects");T.addEventListener("click",(function(){a=document.createElement("div"),r=document.createElement("button");const e=document.createElement("input"),n=document.createElement("button"),c=document.createElement("button");n.innerText="Save",c.innerText="Exit",r.style.padding="3px",n.style.backgroundColor="white",n.style.maxHeight="15px",n.style.maxWidth="15px",n.style.fontSize="1em",n.style.color="navy",n.style.marginTop="5px",c.style.backgroundColor="white",c.style.maxHeight="15px",c.style.maxWidth="15px",c.style.fontSize="1em",c.style.color="navy",c.style.marginTop="5px",r.appendChild(e),r.appendChild(c),r.appendChild(n),a.appendChild(r),n.addEventListener("click",(()=>{o=e.value,o.length<1?alert("Please Insert Name For Your Project."):(r.innerText=o,o=new Array,s.push(o),l.push(o),r.addEventListener("click",(()=>{t(),C.disabled=!1,C.style.backgroundColor="navy";for(let e=0;e<i.length;e++)i[e].classList.remove("active-project"),i[e].displayed=!1,y=0;r.classList.add("active-project");for(let e=0;e<i.length;e++)i[e].classList.contains("active-project")&&(d=s[e]);b(d)})))})),c.addEventListener("click",(()=>{L.removeChild(r),L.removeChild(a)})),L.removeChild(T),L.appendChild(a),L.appendChild(T),i.push(r)}));const A=document.getElementById("content"),I=document.createElement("p");I.innerHTML="The inbox section is for <b>review only</b>. You can't create or edit todo items here, you need to create separate project for that.",I.style.fontStyle="italic",I.style.position="absolute",I.style.bottom="5px",A.style.position="relative",A.appendChild(I)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE9BQVFELElBQ3BDNUQsRUFBWTRELEdBQUdiLFVBQVVlLE9BQU8sa0JBQ2hDOUQsRUFBWTRELEdBQUdHLFdBQVksRUFDM0JDLEVBQWlCLEVBR3JCNUQsRUFBUTJDLFVBQVVDLElBQUksa0JBRXRCLElBQUssSUFBSVksRUFBSSxFQUFHQSxFQUFJNUQsRUFBWTZELE9BQVFELElBQ2hDNUQsRUFBWTRELEdBQUdiLFVBQVVrQixTQUFTLG9CQUNsQy9ELEVBQWNJLEVBQWlCc0QsSUFJdkNPLEVBQWFqRSxFQUFZLElBNEJqQyxJQUlKMEYsRUFBWTNDLGlCQUFpQixTQUFTLEtBQ2xDd0MsRUFBUzlDLFlBQVl2QyxHQUNyQnFGLEVBQVM5QyxZQUFZeEMsRUFBVyxJQUdwQ3NGLEVBQVM5QyxZQUFZNkMsR0FDckJDLEVBQVNqRCxZQUFZckMsR0FDckJzRixFQUFTakQsWUFBWWdELEdBRXJCeEYsRUFBWUMsS0FBS0csRUFFckIsSU1oSkEsTUFBTSxFQUFVVCxTQUFTQyxlQUFlLFdBRTNCeUUsRUFBaUIxRSxTQUFTNEIsY0FBYyxLQUNyRDhDLEVBQWV4RSxVQUFZLHVJQUMzQndFLEVBQWU1RCxNQUFNOEMsVUFBWSxTQUNqQ2MsRUFBZTVELE1BQU15RixTQUFXLFdBQ2hDN0IsRUFBZTVELE1BQU0wRixPQUFTLE1BQzlCLEVBQVExRixNQUFNeUYsU0FBVyxXQUN6QixFQUFRMUQsWUFBWTZCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2xlYXJDb250ZW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY3JlYXRlVG9kb0l0ZW0uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NldHRpbmdQcmlvcml0eS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvY2hlY2tDaGVja2JveC5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZWRpdFNob3dJdGVtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zaG93aW5nSXRlbXMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiZXhwb3J0IGZ1bmN0aW9uIGNsZWFyQ29udGVudCgpIHtcbiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250ZW50XCIpO1xuICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcbn0iLCJpbXBvcnQgeyBwcm9qZWN0cywgbmV3UHJvamVjdEJ1dHRvbiwgYWRkSXRlbSwgaW5mb3JtYXRpb25hbFAgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBkaXNwbGF5ZWRJdGVtcywgc2hvd2luZ0l0ZW1zLCBzaG93SXRlbSB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuaW1wb3J0IG9uQ2hhbmdlIGZyb20gJ29uLWNoYW5nZSc7XG5cbmNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmJveFwiKTtcbmV4cG9ydCBsZXQgaW5ib3hBcnJheSA9IFtdO1xuXG5sZXQgYWxsUHJvamVjdHMgPSBbXTtcbmFsbFByb2plY3RzLnB1c2goaW5ib3gpO1xuXG5sZXQgYWxsUHJvamVjdEFycmF5cyA9IFtdO1xuYWxsUHJvamVjdEFycmF5cy5wdXNoKGluYm94QXJyYXkpO1xuZXhwb3J0IGxldCBhY3RpdmVBcnJheTtcblxuYWN0aXZlQXJyYXkgPSBpbmJveEFycmF5O1xuXG5sZXQgbmFtZTtcblxuaW5ib3guY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1wcm9qZWN0XCIpO1xuaW5ib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgIGNsZWFyQ29udGVudCgpO1xuXG4gICAgYWRkSXRlbS5kaXNhYmxlZCA9IHRydWU7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbiAgICBcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFsbFByb2plY3RzW2ldLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtcHJvamVjdFwiKTtcbiAgICAgICAgYWxsUHJvamVjdHNbaV0uZGlzcGxheWVkID0gZmFsc2U7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICB9XG5cbiAgICBpbmJveC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXByb2plY3RcIik7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSkge1xuICAgICAgICAgICAgYWN0aXZlQXJyYXkgPSBhbGxQcm9qZWN0QXJyYXlzW2ldO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmJveEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaW5ib3hBcnJheVtpXS5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgaW5ib3hBcnJheVtpXVtqXS5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluYm94QXJyYXlbaV1bal0pO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJkaXNwbGF5ZWRJdGVtczogXCIgKyBkaXNwbGF5ZWRJdGVtcyk7XG4gICAgICAgIGRpc3BsYXllZEl0ZW1zID0gMDtcbiAgICAgICAgc2hvd2luZ0l0ZW1zKGluYm94QXJyYXlbaV0pO1xuICAgIH1cbiAgICBcbiAgICBjb250ZW50LmFwcGVuZENoaWxkKGluZm9ybWF0aW9uYWxQKTtcblxuICAgIHByb2plY3REaXYuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3QpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcm9qZWN0SXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBwcm9qZWN0SXRlbS5pbm5lclRleHQgPSBgJHtuYW1lW2ldLnRpdGxlfSB8ICR7bmFtZVtpXS5kdWVEYXRlfWA7XG4gICAgICAgIFxuICAgICAgICBpZiAobmFtZVtpXS5wcmlvcml0eSA9PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAobmFtZVtpXS5wcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig1MSwgMTI2LCAyNDUpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3RJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgIH1cblxuICAgICAgICBwcm9qZWN0SXRlbS5zdHlsZS5wYWRkaW5nID0gXCIycHhcIjtcbiAgICAgICAgcHJvamVjdEl0ZW0uc3R5bGUubWFyZ2luVG9wID0gXCIzcHhcIjtcblxuICAgICAgICBwcm9qZWN0RGl2LmFwcGVuZENoaWxkKHByb2plY3RJdGVtKTtcbiAgICAgICAgXG4gICAgfVxufSk7XG5cbmxldCBwcm9qZWN0RGl2O1xubGV0IHByb2plY3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOZXdQcm9qZWN0KCkge1xuXG4gICAgcHJvamVjdERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIGNvbnN0IHByb2plY3RTYXZlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBwcm9qZWN0RXhpdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgXG4gICAgcHJvamVjdFNhdmUuaW5uZXJUZXh0ID0gXCJTYXZlXCI7XG4gICAgcHJvamVjdEV4aXQuaW5uZXJUZXh0ID0gXCJFeGl0XCI7XG5cbiAgICBwcm9qZWN0LnN0eWxlLnBhZGRpbmcgPSBcIjNweFwiO1xuXG4gICAgcHJvamVjdFNhdmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJ3aGl0ZVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1heEhlaWdodCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLm1heFdpZHRoID0gXCIxNXB4XCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUuZm9udFNpemUgPSBcIjFlbVwiO1xuICAgIHByb2plY3RTYXZlLnN0eWxlLmNvbG9yID0gXCJuYXZ5XCI7XG4gICAgcHJvamVjdFNhdmUuc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcblxuICAgIHByb2plY3RFeGl0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwid2hpdGVcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXhIZWlnaHQgPSBcIjE1cHhcIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLmZvbnRTaXplID0gXCIxZW1cIjtcbiAgICBwcm9qZWN0RXhpdC5zdHlsZS5jb2xvciA9IFwibmF2eVwiO1xuICAgIHByb2plY3RFeGl0LnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICBwcm9qZWN0LmFwcGVuZENoaWxkKHByb2plY3ROYW1lSW5wdXQpO1xuICAgIHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdEV4aXQpO1xuICAgIHByb2plY3QuYXBwZW5kQ2hpbGQocHJvamVjdFNhdmUpO1xuXG4gICAgcHJvamVjdERpdi5hcHBlbmRDaGlsZChwcm9qZWN0KTtcbiAgICBcbiAgICBwcm9qZWN0U2F2ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBcbiAgICAgICAgIG5hbWUgPSBwcm9qZWN0TmFtZUlucHV0LnZhbHVlO1xuICAgICAgICBcbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IE5hbWUgRm9yIFlvdXIgUHJvamVjdC5cIik7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByb2plY3QuaW5uZXJUZXh0ID0gbmFtZTtcbiAgICAgICAgICAgIG5hbWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGFsbFByb2plY3RBcnJheXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIGluYm94QXJyYXkucHVzaChuYW1lKTtcbiAgICBcbiAgICAgICAgICAgIHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpPT4ge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNsZWFyQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGFkZEl0ZW0uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhZGRJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwibmF2eVwiO1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxQcm9qZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLXByb2plY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIGFsbFByb2plY3RzW2ldLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5ZWRJdGVtcyA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJvamVjdC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLXByb2plY3RcIik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsbFByb2plY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxQcm9qZWN0c1tpXS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtcHJvamVjdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlQXJyYXkgPSBhbGxQcm9qZWN0QXJyYXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2hvd2luZ0l0ZW1zKGFjdGl2ZUFycmF5KTtcblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNvbnN0IGRlbGV0ZVByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5pbm5lclRleHQgPSBcIkRlbGV0ZSBQcm9qZWN0XCI7XG5cbiAgICAgICAgICAgIC8vIHByb2plY3Quc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgLy8gcHJvamVjdC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gXCJjb2x1bW5cIjtcbiAgICAgICAgICAgIC8vIHByb2plY3Quc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImNlbnRlclwiO1xuICAgICAgICAgICAgLy8gcHJvamVjdC5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcblxuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIndoaXRlXCI7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLm1heEhlaWdodCA9IFwiMTVweFwiO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5tYXhXaWR0aCA9IFwiMTVweFwiO1xuICAgICAgICAgICAgLy8gZGVsZXRlUHJvamVjdC5zdHlsZS5mb250U2l6ZSA9IFwiMWVtXCI7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLmNvbG9yID0gXCJuYXZ5XCI7XG4gICAgICAgICAgICAvLyBkZWxldGVQcm9qZWN0LnN0eWxlLm1hcmdpblRvcCA9IFwiNXB4XCI7XG5cbiAgICAgICAgICAgIC8vIGRlbGV0ZVByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICAvLyAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQocHJvamVjdCk7XG4gICAgICAgICAgICAvLyAgICAgYWxsUHJvamVjdEFycmF5cy5wb3AobmFtZSk7XG4gICAgICAgICAgICAvLyAgICAgaW5ib3hBcnJheS5wb3AobmFtZSk7XG4gICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coYWxsUHJvamVjdHMpO1xuICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGFsbFByb2plY3RBcnJheXMpO1xuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gcHJvamVjdC5hcHBlbmRDaGlsZChkZWxldGVQcm9qZWN0KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICBwcm9qZWN0RXhpdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBwcm9qZWN0cy5yZW1vdmVDaGlsZChwcm9qZWN0KTtcbiAgICAgICAgcHJvamVjdHMucmVtb3ZlQ2hpbGQocHJvamVjdERpdik7XG4gICAgfSlcblxuICAgIHByb2plY3RzLnJlbW92ZUNoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKHByb2plY3REaXYpO1xuICAgIHByb2plY3RzLmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuXG4gICAgYWxsUHJvamVjdHMucHVzaChwcm9qZWN0KTtcblxufSIsImltcG9ydCB7IEl0ZW0sIGRpYWxvZyB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5pbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcblxuZXhwb3J0IGxldCBwcmlvcml0eTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRvZG9JdGVtRnVuYyAoYWN0aXZlQXJyYXkpIHtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGVcIikudmFsdWU7XG4gICAgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlc2NyaXB0aW9uXCIpLnZhbHVlO1xuICAgIGNvbnN0IGR1ZURhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImR1ZURhdGVcIikudmFsdWU7XG4gICAgcHJpb3JpdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaW9yaXR5XCIpLnZhbHVlO1xuXG4gICAgaWYgKHRpdGxlLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgYWxlcnQoXCJQbGVhc2UgSW5zZXJ0IGEgVGl0bGUuXCIpXG4gICAgfVxuXG4gICAgZWxzZSBpZiAoZGVzY3JpcHRpb24ubGVuZ3RoIDwgMSkge1xuICAgICAgICBhbGVydChcIlBsZWFzZSBJbnNlcnQgYSBEZXNjcmlwdGlvbi5cIilcbiAgICB9XG5cbiAgICBlbHNlIGlmIChkdWVEYXRlID09PSBcIlwiKSB7XG4gICAgICAgIGFsZXJ0KFwiUGxlYXNlIENob29zZSBZb3VyIER1ZSBEYXRlLlwiKVxuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBpdGVtID0gbmV3IEl0ZW0odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0pO1xuICAgICAgICBjb25zb2xlLmxvZyhhY3RpdmVBcnJheSk7XG4gICAgICAgIGFjdGl2ZUFycmF5LnB1c2goaXRlbSk7XG4gICAgICAgIHNob3dpbmdJdGVtcyhhY3RpdmVBcnJheSk7XG4gICAgICAgIGRpYWxvZy5jbG9zZSgpO1xuICAgIH1cblxuXG59IiwiaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgc2hvd0l0ZW0sIHNob3dpbmdJdGVtcyB9IGZyb20gXCIuL3Nob3dpbmdJdGVtcy5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ1ByaW9yaXR5IChzaG93SXRlbSkge1xuICAgIFxuICAgIGlmIChwcmlvcml0eSA9PT0gXCJsb3dcIikge1xuICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgIH1cbiAgICBcbiAgICBlbHNlIGlmIChwcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiKDUxLCAxMjYsIDI0NSlcIjtcbiAgICB9XG4gICAgXG4gICAgZWxzZSB7XG4gICAgICAgIHNob3dJdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgfVxufSIsImltcG9ydCB7IHNldHRpbmdQcmlvcml0eSB9IGZyb20gXCIuL3NldHRpbmdQcmlvcml0eVwiO1xuaW1wb3J0IHsgc2hvd0l0ZW0gfSBmcm9tIFwiLi9zaG93aW5nSXRlbXNcIjtcbmltcG9ydCB7IHByaW9yaXR5IH0gZnJvbSBcIi4vY3JlYXRlVG9kb0l0ZW1cIjtcbmltcG9ydCB7IGFjdGl2ZUFycmF5IH0gZnJvbSBcIi4vcHJvamVjdHNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ2hlY2tib3goZXZlbnQpIHtcbiAgICBwcmlvcml0eSA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtcHJpb3JpdHlcIik7XG5cbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQgPT09IHRydWUpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJncmVlblwiO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBjaGVja2VkXCIpO1xuICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICBsZXQgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWluZGV4XCIpO1xuICAgICAgICBhY3RpdmVBcnJheVtpbmRleF0uY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XS5jaGVja2VkKTtcbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHByaW9yaXR5ID09PSBcImxvd1wiKSB7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImxpZ2h0Ymx1ZVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIik7XG4gICAgICAgICAgICBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNoZWNrZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZWxzZSBpZiAocHJpb3JpdHkgPT0gXCJub3JtYWxcIikge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNTEsIDEyNiwgMjQ1KVwiO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJEaXYgaXMgbm90IGNoZWNrZWRcIilcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBpcyBub3QgY2hlY2tlZFwiKVxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZGV4ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKTtcbiAgICAgICAgYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aXZlQXJyYXlbaW5kZXhdLmNoZWNrZWQpO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHlcIjtcbmltcG9ydCB7IHNob3dJdGVtIH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBjb250ZW50IH0gZnJvbSBcIi4vc2hvd2luZ0l0ZW1zXCI7XG5pbXBvcnQgeyBwcmlvcml0eSB9IGZyb20gXCIuL2NyZWF0ZVRvZG9JdGVtXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGVkaXRTaG93SXRlbShzaG93SXRlbSkge1xuXG4gICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwidHJ1ZVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBiZWluZyBlZGl0ZWQgcmlnaHQgbm93XCIpO1xuXG4gICAgY29uc3QgaW5wdXRUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBpbnB1dERlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICAgIGNvbnN0IGlucHV0RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjb25zdCBpbnB1dFByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcblxuICAgIGNvbnN0IG9wdGlvbkxvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgY29uc3Qgb3B0aW9uTm9ybWFsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBjb25zdCBvcHRpb25IaWdoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcblxuICAgIG9wdGlvbkxvdy5pbm5lclRleHQgPSBcIkxvd1wiO1xuICAgIG9wdGlvbk5vcm1hbC5pbm5lclRleHQgPSBcIk5vcm1hbFwiO1xuICAgIG9wdGlvbkhpZ2guaW5uZXJUZXh0ID0gXCJIaWdoXCI7XG5cbiAgICBvcHRpb25Mb3cuc2V0QXR0cmlidXRlKFwidmFsdWVcIiwgXCJsb3dcIik7IFxuICAgIG9wdGlvbk5vcm1hbC5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIm5vcm1hbFwiKTtcbiAgICBvcHRpb25IaWdoLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsIFwiaGlnaFwiKTtcblxuXG4gICAgY29uc3QgY2hpbGRyZW4gPSBzaG93SXRlbS5jaGlsZHJlbjtcbiAgICBjb25zdCBjaGVja2JveCA9IGNoaWxkcmVuLml0ZW0oMCk7XG4gICAgY29uc3Qgb3JpZ2luYWxUaXRsZSA9IGNoaWxkcmVuLml0ZW0oMSkuaW5uZXJUZXh0O1xuICAgIGNvbnN0IG9yaWdpbmFsRGVzY3JpcHRpb24gPSBjaGlsZHJlbi5pdGVtKDIpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbER1ZURhdGUgPSBjaGlsZHJlbi5pdGVtKDMpLmlubmVyVGV4dDtcbiAgICBjb25zdCBvcmlnaW5hbFByaW9yaXR5ID0gc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiKTtcblxuICAgIGNoZWNrYm94LmRpc2FibGVkID0gdHJ1ZTtcblxuICAgIGlucHV0VGl0bGUudmFsdWUgPSBvcmlnaW5hbFRpdGxlO1xuICAgIGlucHV0RGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gb3JpZ2luYWxEZXNjcmlwdGlvbjtcbiAgICBpbnB1dER1ZURhdGUudmFsdWUgPSBvcmlnaW5hbER1ZURhdGU7XG4gICAgaW5wdXRQcmlvcml0eS5pbm5lclRleHQgPSBvcmlnaW5hbFByaW9yaXR5O1xuXG4gICAgaW5wdXRQcmlvcml0eS5hcHBlbmRDaGlsZChvcHRpb25Mb3cpO1xuICAgIGlucHV0UHJpb3JpdHkuYXBwZW5kQ2hpbGQob3B0aW9uTm9ybWFsKTtcbiAgICBpbnB1dFByaW9yaXR5LmFwcGVuZENoaWxkKG9wdGlvbkhpZ2gpO1xuICAgIFxuICAgIGlmIChvcmlnaW5hbFByaW9yaXR5ID09IFwibG93XCIpIHtcbiAgICAgICAgb3B0aW9uTG93LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgZWxzZSBpZiAob3JpZ2luYWxQcmlvcml0eSA9PSBcIm5vcm1hbFwiKSB7XG4gICAgICAgIG9wdGlvbk5vcm1hbC5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIGVsc2UgaWYgKG9yaWdpbmFsUHJpb3JpdHkgPT0gXCJoaWdoXCIpIHtcbiAgICAgICAgb3B0aW9uSGlnaC5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaW5wdXREdWVEYXRlLnR5cGUgPSBcImRhdGVcIjtcbiAgICBcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dFRpdGxlKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGlucHV0UHJpb3JpdHkpO1xuXG5cbiAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjaGlsZHJlbi5pdGVtKDEpKTtcbiAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjaGlsZHJlbi5pdGVtKDEpKTtcbiAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChjaGlsZHJlbi5pdGVtKDEpKTtcblxuICAgIGNvbnN0IHNhdmVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgIGNvbnN0IGNsb3NlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuXG4gICAgc2F2ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcInNhdmVFZGl0QnV0dG9uXCIpO1xuICAgIGNsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJlZGl0QnV0dG9uXCIsIFwiY2xvc2VFZGl0QnV0dG9uXCIpO1xuICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiZWRpdEJ1dHRvblwiLCBcImRlbGV0ZUVkaXRCdXR0b25cIik7XG5cbiAgICBzYXZlQnV0dG9uLmlubmVyVGV4dCA9IFwiU2F2ZVwiO1xuICAgIGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiQ2xvc2VcIjtcbiAgICBkZWxldGVCdXR0b24uaW5uZXJUZXh0ID0gXCJEZWxldGVcIjtcblxuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG4gICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKHNhdmVCdXR0b24pO1xuXG4gICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnRlbnQucmVtb3ZlQ2hpbGQoc2hvd0l0ZW0pO1xuICAgICAgICBjb25zdCBpbmRleCA9IHBhcnNlSW50KHNob3dJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIikpO1xuICAgICAgICBhY3RpdmVBcnJheS5wb3AoYWN0aXZlQXJyYXlbaW5kZXhdKTtcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KTtcblxuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICBjb25zdCBuZXdEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICBjb25zdCBuZXdEdWVEYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgIGNvbnN0IG5ld1ByaW9yaXR5ID0gc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBvcmlnaW5hbFByaW9yaXR5KTtcblxuICAgICAgICBuZXdUaXRsZS5pbm5lclRleHQgPSBvcmlnaW5hbFRpdGxlO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5pbm5lclRleHQgPSBvcmlnaW5hbERlc2NyaXB0aW9uO1xuICAgICAgICBuZXdEZXNjcmlwdGlvbi5zdHlsZS5mb250U3R5bGUgPSBcIml0YWxpY1wiO1xuICAgICAgICBuZXdEdWVEYXRlLmlubmVyVGV4dCA9IG9yaWdpbmFsRHVlRGF0ZTtcblxuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3RHVlRGF0ZSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRUaXRsZSk7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0RGVzY3JpcHRpb24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dER1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dFByaW9yaXR5KTtcblxuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChzYXZlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoY2xvc2VCdXR0b24pO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gICAgICAgIGNoZWNrYm94LmRpc2FibGVkID0gZmFsc2U7XG5cbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1lZGl0aW5nXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGl2IElTIE5PVCBiZWluZyBlZGl0ZWQgcmlnaHQgbm93LlwiKTtcbiAgICB9KVxuXG4gICAgc2F2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgY29uc3QgbmV3RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXG4gICAgICAgIG5ld1RpdGxlLmlubmVyVGV4dCA9IGlucHV0VGl0bGUudmFsdWU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLmlubmVyVGV4dCA9IGlucHV0RGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgIG5ld0Rlc2NyaXB0aW9uLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG4gICAgICAgIG5ld0R1ZURhdGUuaW5uZXJUZXh0ID0gaW5wdXREdWVEYXRlLnZhbHVlO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1pbmRleFwiKSk7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS50aXRsZSA9IGlucHV0VGl0bGUudmFsdWU7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5kZXNjcmlwdGlvbiA9IGlucHV0RGVzY3JpcHRpb24udmFsdWU7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5kdWVEYXRlPSBpbnB1dER1ZURhdGUudmFsdWU7XG4gICAgICAgIGFjdGl2ZUFycmF5W2luZGV4XS5wcmlvcml0eSA9IGlucHV0UHJpb3JpdHkudmFsdWU7XG5cbiAgICAgICAgcHJpb3JpdHkgPSBpbnB1dFByaW9yaXR5LnZhbHVlO1xuXG4gICAgICAgIHNldHRpbmdQcmlvcml0eShzaG93SXRlbSk7XG5cbiAgICAgICAgY29uc3QgbmV3UHJpb3JpdHkgPSBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXByaW9yaXR5XCIsIGlucHV0UHJpb3JpdHkudmFsdWUpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGFjdGl2ZUFycmF5W2luZGV4XSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiU2F2ZWQgaXRlbSdzIHByaW9yaXR5IGlzOiBcIiArIGFjdGl2ZUFycmF5W2luZGV4XS5wcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQobmV3VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5hcHBlbmRDaGlsZChuZXdEZXNjcmlwdGlvbik7XG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKG5ld0R1ZURhdGUpO1xuXG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGlucHV0VGl0bGUpO1xuICAgICAgICBzaG93SXRlbS5yZW1vdmVDaGlsZChpbnB1dERlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXREdWVEYXRlKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoaW5wdXRQcmlvcml0eSk7XG5cbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoc2F2ZUJ1dHRvbik7XG4gICAgICAgIHNob3dJdGVtLnJlbW92ZUNoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgc2hvd0l0ZW0ucmVtb3ZlQ2hpbGQoZGVsZXRlQnV0dG9uKTtcblxuICAgICAgICBjaGVja2JveC5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWRpdGluZ1wiLCBcImZhbHNlXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkRpdiBJUyBOT1QgYmVpbmcgZWRpdGVkIHJpZ2h0IG5vdy5cIik7XG4gICAgfSk7XG5cbn0iLCJpbXBvcnQgeyBjaGVja0NoZWNrYm94IH0gZnJvbSBcIi4vY2hlY2tDaGVja2JveC5qc1wiO1xuaW1wb3J0IHsgcHJpb3JpdHkgfSBmcm9tIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgZWRpdFNob3dJdGVtIH0gZnJvbSBcIi4vZWRpdFNob3dJdGVtLmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSB9IGZyb20gXCIuL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5nUHJpb3JpdHkgfSBmcm9tIFwiLi9zZXR0aW5nUHJpb3JpdHkuanNcIjtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbmV4cG9ydCB7IGNvbnRlbnQgfTtcbmV4cG9ydCBsZXQgc2hvd0l0ZW07XG5cbmNvbnN0IGluYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbmJveFwiKTtcblxuZXhwb3J0IGxldCBkaXNwbGF5ZWRJdGVtcyA9IDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93aW5nSXRlbXMoYWN0aXZlQXJyYXkpIHtcblxuICAgIGZvciAobGV0IGkgPSBkaXNwbGF5ZWRJdGVtczsgaSA8IGFjdGl2ZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgc2hvd0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgY2hlY2tib3gudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZChcImNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBzaG93VGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBzaG93RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBzaG93RHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHNob3dUaXRsZS5pbm5lckhUTUwgPVwiPGgzPlwiICsgYWN0aXZlQXJyYXlbaV0udGl0bGUgKyBcIjwvaDM+XCI7XG4gICAgICAgIHNob3dEZXNjcmlwdGlvbi5pbm5lckhUTUwgPVwiPHA+XCIgKyBhY3RpdmVBcnJheVtpXS5kZXNjcmlwdGlvbiArIFwiPC9wPlwiO1xuICAgICAgICBzaG93RHVlRGF0ZS5pbm5lckhUTUwgPVwiPHA+XCIgKyBhY3RpdmVBcnJheVtpXS5kdWVEYXRlICsgXCI8L3A+XCI7XG4gICAgXG4gICAgICAgIHByaW9yaXR5ID0gYWN0aXZlQXJyYXlbaV0ucHJpb3JpdHk7XG5cbiAgICAgICAgc2V0dGluZ1ByaW9yaXR5KHNob3dJdGVtKTtcbiAgICBcbiAgICAgICAgc2hvd0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1wcmlvcml0eVwiLCBwcmlvcml0eSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtaW5kZXhcIiwgaSk7XG4gICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICBzaG93SXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIiwgXCJmYWxzZVwiKTtcblxuICAgICAgICBpZiAoYWN0aXZlQXJyYXlbaV0uY2hlY2tlZCA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICBzaG93SXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZWVuXCI7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHNob3dJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIHNob3dJdGVtLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd1RpdGxlKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgc2hvd0l0ZW0uYXBwZW5kQ2hpbGQoc2hvd0R1ZURhdGUpO1xuICAgICAgICBzaG93SXRlbS5jbGFzc0xpc3QuYWRkKFwic2hvd0l0ZW1EaXZcIik7XG4gICAgICAgIHNob3dEZXNjcmlwdGlvbi5jbGFzc0xpc3QuYWRkKFwic2hvd0Rlc2NyaXB0aW9uXCIpO1xuICAgIFxuICAgICAgICBjb250ZW50LmFwcGVuZENoaWxkKHNob3dJdGVtKTtcbiAgICBcbiAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGVja0NoZWNrYm94KTtcbiAgICBcbiAgICAgICAgc2hvd0l0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT0gc2hvd0l0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0l0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1jaGVja2VkXCIpID09IFwiZmFsc2VcIiAmJiBzaG93SXRlbS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVkaXRpbmdcIikgPT0gXCJmYWxzZVwiICYmIGluYm94LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1wcm9qZWN0XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRTaG93SXRlbShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhY3RpdmVBcnJheVtpXS5kaXNwbGF5ZWQgPSB0cnVlO1xuICAgICAgICBkaXNwbGF5ZWRJdGVtcysrO1xuICAgIFxuICAgIH1cbiAgICBcbn0iLCJpbXBvcnQgeyBzaG93aW5nSXRlbXMgfSBmcm9tIFwiLi9zaG93aW5nSXRlbXMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZVRvZG9JdGVtRnVuYyB9IGZyb20gIFwiLi9jcmVhdGVUb2RvSXRlbS5qc1wiO1xuaW1wb3J0IHsgY2xlYXJDb250ZW50IH0gZnJvbSBcIi4vY2xlYXJDb250ZW50LmpzXCI7XG5pbXBvcnQgeyBhY3RpdmVBcnJheSwgY3JlYXRlTmV3UHJvamVjdCB9IGZyb20gXCIuL3Byb2plY3RzLmpzXCI7XG5cbmNvbnN0IGRpYWxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGlhbG9nXCIpWzBdO1xuZXhwb3J0IHsgZGlhbG9nIH07XG5leHBvcnQgY29uc3QgYWRkSXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkSXRlbVwiKTtcbmFkZEl0ZW0uZGlzYWJsZWQgPSB0cnVlO1xuXG5pZiAoYWRkSXRlbS5kaXNhYmxlZCA9PSB0cnVlKSB7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImdyZXlcIjtcbn1cblxuZWxzZSB7XG4gICAgYWRkSXRlbS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIm5hdnlcIjtcbn1cblxuY29uc3QgY2xvc2VEaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsb3NlRGlhbG9nXCIpO1xuXG5jb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJmb3JtXCIpWzBdO1xuXG5hZGRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgZGlhbG9nLnNob3dNb2RhbCgpO1xuICAgIGZvcm0ucmVzZXQoKTtcbn0pO1xuXG5jbG9zZURpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgIGRpYWxvZy5jbG9zZSgpO1xufSk7XG5cbmV4cG9ydCBjbGFzcyBJdGVtIHtcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfTtcbn1cblxuY29uc3QgY3JlYXRlVG9kb0l0ZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZVRvZG9JdGVtXCIpO1xuXG5jcmVhdGVUb2RvSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjcmVhdGVUb2RvSXRlbUZ1bmMoYWN0aXZlQXJyYXkpO1xufSk7XG5cbmV4cG9ydCBjb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuZXdQcm9qZWN0XCIpO1xuZXhwb3J0IGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9qZWN0c1wiKTtcblxubmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlTmV3UHJvamVjdCk7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIik7XG5cbmV4cG9ydCBjb25zdCBpbmZvcm1hdGlvbmFsUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuaW5mb3JtYXRpb25hbFAuaW5uZXJIVE1MID0gXCJUaGUgaW5ib3ggc2VjdGlvbiBpcyBmb3IgPGI+cmV2aWV3IG9ubHk8L2I+LiBZb3UgY2FuJ3QgY3JlYXRlIG9yIGVkaXQgdG9kbyBpdGVtcyBoZXJlLCB5b3UgbmVlZCB0byBjcmVhdGUgc2VwYXJhdGUgcHJvamVjdCBmb3IgdGhhdC5cIjtcbmluZm9ybWF0aW9uYWxQLnN0eWxlLmZvbnRTdHlsZSA9IFwiaXRhbGljXCI7XG5pbmZvcm1hdGlvbmFsUC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbmluZm9ybWF0aW9uYWxQLnN0eWxlLmJvdHRvbSA9IFwiNXB4XCI7XG5jb250ZW50LnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuY29udGVudC5hcHBlbmRDaGlsZChpbmZvcm1hdGlvbmFsUCk7Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiY2xlYXJDb250ZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsImluYm94IiwiaW5ib3hBcnJheSIsImFsbFByb2plY3RzIiwicHVzaCIsImFjdGl2ZUFycmF5IiwicHJvamVjdERpdiIsInByb2plY3QiLCJwcmlvcml0eSIsImFsbFByb2plY3RBcnJheXMiLCJzZXR0aW5nUHJpb3JpdHkiLCJzaG93SXRlbSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiY2hlY2tDaGVja2JveCIsImV2ZW50IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImNoZWNrZWQiLCJjb25zb2xlIiwibG9nIiwic2V0QXR0cmlidXRlIiwiaW5kZXgiLCJlZGl0U2hvd0l0ZW0iLCJpbnB1dFRpdGxlIiwiY3JlYXRlRWxlbWVudCIsImlucHV0RGVzY3JpcHRpb24iLCJpbnB1dER1ZURhdGUiLCJpbnB1dFByaW9yaXR5Iiwib3B0aW9uTG93Iiwib3B0aW9uTm9ybWFsIiwib3B0aW9uSGlnaCIsImlubmVyVGV4dCIsImNoaWxkcmVuIiwiY2hlY2tib3giLCJpdGVtIiwib3JpZ2luYWxUaXRsZSIsIm9yaWdpbmFsRGVzY3JpcHRpb24iLCJvcmlnaW5hbER1ZURhdGUiLCJvcmlnaW5hbFByaW9yaXR5IiwiZGlzYWJsZWQiLCJ2YWx1ZSIsImFwcGVuZENoaWxkIiwic2VsZWN0ZWQiLCJ0eXBlIiwicmVtb3ZlQ2hpbGQiLCJzYXZlQnV0dG9uIiwiY2xvc2VCdXR0b24iLCJkZWxldGVCdXR0b24iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicGFyc2VJbnQiLCJwb3AiLCJuZXdUaXRsZSIsIm5ld0Rlc2NyaXB0aW9uIiwibmV3RHVlRGF0ZSIsImZvbnRTdHlsZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwiYWRkSXRlbSIsImkiLCJsZW5ndGgiLCJyZW1vdmUiLCJkaXNwbGF5ZWQiLCJkaXNwbGF5ZWRJdGVtcyIsImNvbnRhaW5zIiwiaiIsInNob3dpbmdJdGVtcyIsImNvbnRlbnQiLCJpbmZvcm1hdGlvbmFsUCIsInByb2plY3RJdGVtIiwicGFkZGluZyIsIm1hcmdpblRvcCIsInNob3dUaXRsZSIsInNob3dEZXNjcmlwdGlvbiIsInNob3dEdWVEYXRlIiwiZSIsImRpYWxvZyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY2xvc2VEaWFsb2ciLCJzaG93TW9kYWwiLCJyZXNldCIsImNsb3NlIiwiSXRlbSIsImNvbnN0cnVjdG9yIiwidGhpcyIsImFsZXJ0IiwiY3JlYXRlVG9kb0l0ZW1GdW5jIiwibmV3UHJvamVjdEJ1dHRvbiIsInByb2plY3RzIiwicHJvamVjdE5hbWVJbnB1dCIsInByb2plY3RTYXZlIiwicHJvamVjdEV4aXQiLCJtYXhIZWlnaHQiLCJtYXhXaWR0aCIsImZvbnRTaXplIiwiY29sb3IiLCJBcnJheSIsInBvc2l0aW9uIiwiYm90dG9tIl0sInNvdXJjZVJvb3QiOiIifQ==